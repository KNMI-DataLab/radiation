<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: write STFDF to table forms</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for unstack {spacetime}"><tr><td>unstack {spacetime}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2> write STFDF to table forms </h2>

<h3>Description</h3>

<p> create table forms of STFDF objects </p>


<h3>Usage</h3>

<pre> 
## S3 method for class 'STFDF'
unstack(x, form, which = 1, ...)
## S3 method for class 'STFDF'
as.data.frame(x, row.names, ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>
<p> object of class <code>STFDF</code></p>
</td></tr>
<tr valign="top"><td><code>form</code></td>
<td>
<p> formula; can be omitted </p>
</td></tr>
<tr valign="top"><td><code>which</code></td>
<td>
<p> column name or number to have unstacked </p>
</td></tr>
<tr valign="top"><td><code>row.names</code></td>
<td>
<p> row.names for the data.frame returned </p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p> arguments passed on to the functions <a href="../../utils/html/unstack.html">unstack</a> 
or <a href="../../base/html/as.data.frame.html">as.data.frame</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>unstack</code> returns the data in wide format, with each
row representing a spatial entity and each column a time; see
<a href="../../utils/html/unstack.html">unstack</a> for details and default behaviour.
</p>
<p><code>as.data.frame</code> returns the data.frame in long format,
where the coordinates of the spatial locations (or line starting
coordinates, or polygon center points) and time stamps are recycled
accordingly.
</p>


<h3>Examples</h3>

<pre>
sp = cbind(x = c(0,0,1), y = c(0,1,1))
row.names(sp) = paste("point", 1:nrow(sp), sep="")
library(sp)
sp = SpatialPoints(sp)
library(xts)
time = xts(1:4, as.POSIXct("2010-08-05")+3600*(10:13))
m = c(10,20,30) # means for each of the 3 point locations
mydata = rnorm(length(sp)*length(time),mean=rep(m, 4))
IDs = paste("ID",1:length(mydata))
mydata = data.frame(values = signif(mydata,3), ID=IDs)
stfdf = STFDF(sp, time, mydata)
as.data.frame(stfdf, row.names = IDs)
unstack(stfdf)
t(unstack(stfdf))
unstack(stfdf, which = 2)
</pre>

<hr /><div style="text-align: center;">[Package <em>spacetime</em> version 1.2-0 <a href="00Index.html">Index</a>]</div>
</body></html>
