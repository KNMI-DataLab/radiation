<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Sparse Matrix diagonals</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for diag {spam}"><tr><td>diag {spam}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Sparse Matrix diagonals</h2>

<h3>Description</h3>

<p>Extract or replace the diagonal of a matrix, or construct a
diagonal matrix.
</p>


<h3>Usage</h3>

<pre>
# diag(x)
diag(x=1, nrow, ncol)
diag(x) &lt;- value

diag.spam(x=1, nrow, ncol)
spam_diag(x=1, nrow, ncol)
diag.spam(x) &lt;- value
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>
<p>a <code>spam</code> matrix, a vector or a scalar.</p>
</td></tr>
<tr valign="top"><td><code>nrow, ncol</code></td>
<td>
<p>Optional dimensions for the result.</p>
</td></tr>
<tr valign="top"><td><code>value</code></td>
<td>
<p>either a single value or a vector of length equal to that of
the current diagonal.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Using <code>diag(x)</code> can have unexpected effects if <code>x</code> is a vector
that could be of length one. Use <code>diag(x, nrow = length(x))</code> for
consistent behaviour.
</p>


<h3>Value</h3>

<p>If <code>x</code> is a spam matrix then <code>diag(x)</code> returns the diagonal of <code>x</code>.
</p>
<p>The assignment form sets the diagonal of the sparse matrix <code>x</code> to the
given value(s).<br />
</p>
<p><code>diag.spam</code> works as <code>diag</code> for spam matrices:
If <code>x</code> is a vector (or 1D array) of length two or more, then
<code>diag.spam(x)</code> returns a diagonal matrix whose diagonal is
<code>x</code>.
<code>spam_diag</code> is an alias for  <code>diag.spam</code> and in the spirit
of the result of <code>diag</code> is a <code>spam</code> object.
</p>
<p>If <code>x</code> is a vector of length one then <code>diag.spam(x)</code> returns an
identity matrix of order the nearest integer to <code>x</code>.  The
dimension of the returned matrix can be specified by <code>nrow</code> and
<code>ncol</code> (the default is square).
</p>
<p>The assignment form sets the diagonal of the matrix <code>x</code> to the
given value(s).
</p>


<h3>Author(s)</h3>

<p>Reinhard Furrer</p>


<h3>See Also</h3>

<p><code><a href="lu.tri.html">upper.tri</a></code>, <code><a href="lu.tri.html">lower.tri</a></code>.
</p>


<h3>Examples</h3>

<pre>
diag.spam(2, 4)           # 2*I4
smat &lt;- diag.spam(1:5)
diag( smat)
diag( smat) &lt;- 5:1

# The last line is equivalent to 
diag.spam( smat) &lt;- 5:1

# Note that diag.spam( 1:5) &lt;- 5:1 not work of course.


</pre>

<hr /><div style="text-align: center;">[Package <em>spam</em> version 1.3-0 <a href="00Index.html">Index</a>]</div>
</body></html>
