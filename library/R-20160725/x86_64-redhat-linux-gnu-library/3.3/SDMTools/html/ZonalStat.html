<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Landscape Zonal Statistics</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for ZonalStat {SDMTools}"><tr><td>ZonalStat {SDMTools}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Landscape Zonal Statistics</h2>

<h3>Description</h3>

<p><code>ZonalStat</code> calculates the statistics of data for
specified zones of two matrices of data. The matrix can be
a raster of class 'asc' (adehabitat package), 'RasterLayer'
(raster package) or 'SpatialGridDataFrame' (sp package).
</p>


<h3>Usage</h3>

<pre>
ZonalStat(mat, zones, FUN = "all")
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>mat</code></td>
<td>
<p>a matrix of data to be summarized; The matrix
can be a raster of class 'asc' (adehabitat package),
'RasterLayer' (raster package) or 'SpatialGridDataFrame'
(sp package)</p>
</td></tr>
<tr valign="top"><td><code>zones</code></td>
<td>
<p>a matrix of data with individual patches
identified as with <code>ConnCompLabel</code>; The matrix must
be of the same size &amp; extent as <code>mat</code></p>
</td></tr>
<tr valign="top"><td><code>FUN</code></td>
<td>
<p>a single or vector of functions to be applied
to each 'zone'; the default of 'all' will calculate min,
1st quarter, median, 3rd quarter, max, mean, standard
deviation and n</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The code summarizes the data for defined zones. Nearly any
function can be used for summarizing the data. <br /> <br /> The
FUN defined with 'all' as one of or the only function will
append the functions of min, 1st quarter, median, 3rd
quarter, max, mean, standard deviation and n to what is
being calculated.
</p>


<h3>Value</h3>

<p>a data.frame listing </p>
<table summary="R valueblock">
<tr valign="top"><td><code>zone</code></td>
<td>
<p>the unique ID for each
zone.</p>
</td></tr> <tr valign="top"><td><code>functions...</code></td>
<td>
<p>a column for each of the
functions identified</p>
</td></tr>
</table>
<p>The data.frame will have an atribute defining the number of
NA values that were excluded from the analysis.
</p>


<h3>Author(s)</h3>

<p>Jeremy VanDerWal <a href="mailto:jjvanderwal@gmail.com">jjvanderwal@gmail.com</a>
</p>


<h3>Examples</h3>

<pre>
#define a simple binary matrix
tmat = { matrix(c( 0,0,0,1,0,0,1,1,0,1,
                   0,0,1,0,1,0,0,0,0,0,
                   0,1,NA,1,0,1,0,0,0,1,
                   1,0,1,1,1,0,1,0,0,1,
                   0,1,0,1,0,1,0,0,0,1,
                   0,0,1,0,1,0,0,1,1,0,
                   1,0,0,1,0,0,1,0,0,1,
                   0,1,0,0,0,1,0,0,0,1,
                   0,0,1,1,1,0,0,0,0,1,
                   1,1,1,0,0,0,0,0,0,1),nr=10,byrow=TRUE) }

#do the connected component labelling
ccl.mat = ConnCompLabel(tmat)
ccl.mat #this is the zone matrix to be used

#create a random data matrix
data.mat = matrix(runif(100),nr=10,nc=10)
data.mat

#calculate the zonal statistics
zs.data = ZonalStat(data.mat,ccl.mat,FUN='all')
zs.data

#just calculate the sum
zs.data = ZonalStat(data.mat,ccl.mat,FUN='sum')
zs.data

#calculate sum &amp; n &amp; 'all' and show when a function is not defined
zs.data = ZonalStat(data.mat,ccl.mat,
    FUN=c('sum','length','not.a.function','all'))
zs.data
attr(zs.data,'excluded NAs') #show how many NAs were omitted from analysis
</pre>

<hr /><div style="text-align: center;">[Package <em>SDMTools</em> version 1.1-221 <a href="00Index.html">Index</a>]</div>
</body></html>
