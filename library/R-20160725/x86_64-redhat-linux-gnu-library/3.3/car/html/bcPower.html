<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Box-Cox, Yeo-Johnson and Basic Power Transformations</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for bcPower {car}"><tr><td>bcPower {car}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Box-Cox, Yeo-Johnson and Basic Power Transformations</h2>

<h3>Description</h3>

<p>Transform the elements of a vector using, the Box-Cox, 
Yeo-Johnson, or simple power transformations.
</p>


<h3>Usage</h3>

<pre>
bcPower(U, lambda, jacobian.adjusted=FALSE, gamma=NULL)

yjPower(U, lambda, jacobian.adjusted = FALSE)

basicPower(U,lambda, gamma=NULL)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>U</code></td>
<td>
<p>A vector, matrix or data.frame of values to be transformed</p>
</td></tr>
<tr valign="top"><td><code>lambda</code></td>
<td>
<p>The one-dimensional transformation parameter, usually in 
the range from <i>-2</i> to <i>2</i>, or if <code>U</code> is a matrix or data frame, a vector of length
<code>ncol(U)</code> of transformation parameters</p>
</td></tr>
<tr valign="top"><td><code>jacobian.adjusted</code></td>
<td>
<p>If <code>TRUE</code>, the transformation is normalized to have
Jacobian equal to one.  The default is <code>FALSE</code>.</p>
</td></tr>
<tr valign="top"><td><code>gamma</code></td>
<td>
<p>For bcPower or basicPower, the transformation is of U + gamma, where gamma is a positive number called a start that must be large enough so that U + gamma is strictly positive.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The Box-Cox family of <em>scaled power transformations</em> 
equals <i>(U^(lambda)-1)/lambda</i> 
for <i>lambda not equal to zero</i>, and 
<i>log(U)</i> if <i>lambda = 0</i>.  If <i>gamma</i> is not specified, it is set equal to zero.  <code>U + gamma</code> 
must be strictly positive to use this family.
</p>
<p>If <code>family="yeo.johnson"</code> then the Yeo-Johnson transformations are used.  
This is the Box-Cox transformation of <i>U+1</i> for nonnegative values, 
and of <i>|U|+1</i> with parameter <i>2-lambda</i> for <i>U</i> negative.  An alternative family to the Yeo-Johnson family is the <code><a href="skewPower.html">skewPower</a></code> family that requires estimating both a power and an second parameter.
</p>
<p>The basic power transformation returns <i>U^{&lambda;}</i> if <i>&lambda;</i>
is not zero, and <i>\log(&lambda;)</i> otherwise.
</p>
<p>If <code>jacobian.adjusted</code> is <code>TRUE</code>, then the scaled transformations are divided by the 
Jacobian, which is a function of the geometric mean of <i>U</i> for skewPower and yjpower and of <i>U + gamma</i> for bcPower.  With this adjustment, the Jacobian of the transformation is always equal to 1.  
</p>
<p>Missing values are permitted, and return <code>NA</code> where ever <code>U</code> is equal to <code>NA</code>.
</p>


<h3>Value</h3>

<p>Returns a vector or matrix of transformed values.
</p>


<h3>Author(s)</h3>

<p> Sanford Weisberg, &lt;sandy@umn.edu&gt; </p>


<h3>References</h3>

<p>Fox, J. and Weisberg, S. (2011) 
<em>An R Companion to Applied Regression</em>, Second Edition, Sage.
</p>
<p>Hawkins, D. and Weisberg, S. (2015)
Combining the Box-Cox Power and Genralized Log Transformations to Accomodate Negative Responses,
submitted for publication.
</p>
<p>Weisberg, S. (2014)  <em>Applied Linear Regression</em>, Fourth Edition, Wiley
Wiley, Chapter 7.
</p>
<p>Yeo, In-Kwon and Johnson, Richard (2000) A new family of power
transformations to improve normality or symmetry.  <em>Biometrika</em>, 87,
954-959.
</p>


<h3>See Also</h3>

<p><code><a href="powerTransform.html">powerTransform</a></code>, <code><a href="skewPower.html">skewPower</a></code></p>


<h3>Examples</h3>

<pre>
U &lt;- c(NA, (-3:3))
## Not run: bcPower(U, 0)  # produces an error as U has negative values
bcPower(U, 0, gamma=4)
bcPower(U, .5, jacobian.adjusted=TRUE, gamma=4)
basicPower(U, lambda = 0, gamma=4)
yjPower(U, 0)
V &lt;- matrix(1:10, ncol=2)
bcPower(V, c(0, 2))
basicPower(V, c(0,1))
</pre>

<hr /><div style="text-align: center;">[Package <em>car</em> version 2.1-3 <a href="00Index.html">Index</a>]</div>
</body></html>
