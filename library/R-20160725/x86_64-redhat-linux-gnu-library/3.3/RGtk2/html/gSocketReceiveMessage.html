<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: gSocketReceiveMessage</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for gSocketReceiveMessage {RGtk2}"><tr><td>gSocketReceiveMessage {RGtk2}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>gSocketReceiveMessage</h2>

<h3>Description</h3>

<p>Receive data from a socket.  This is the most complicated and
fully-featured version of this call. For easier use, see
<code><a href="gSocketReceive.html">gSocketReceive</a></code> and <code><a href="gSocketReceiveFrom.html">gSocketReceiveFrom</a></code>.</p>


<h3>Usage</h3>

<pre>gSocketReceiveMessage(object, flags = 0, cancellable = NULL, 
    .errwarn = TRUE)</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code><code style="white-space: pre;">object</code></code></td>
<td>
<p>a <code><a href="GSocket.html">GSocket</a></code></p>
</td></tr>
<tr valign="top"><td><code><code style="white-space: pre;">flags</code></code></td>
<td>
<p>a pointer to an int containing <code style="white-space: pre;">GSocketMsgFlags</code> flags</p>
</td></tr>
<tr valign="top"><td><code><code style="white-space: pre;">cancellable</code></code></td>
<td>
<p>a <code><a href="GCancellable.html">GCancellable</a></code> or <code>NULL</code></p>
</td></tr>
<tr valign="top"><td><code>.errwarn</code></td>
<td>
<p>Whether to issue a warning on error or fail silently</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>address</code> is non-<code>NULL</code> then <code>address</code> will be set equal to the
source the received packet.
<code>vector</code> must point to a list of <code style="white-space: pre;">GInputVector</code> structs and
<code>num.vectors</code> must be the length of this list.  These structs
describe the buffers that received data will be scattered into.
If <code>num.vectors</code> is -1, then <code>vectors</code> is assumed to be terminated
by a <code style="white-space: pre;">GInputVector</code> with a <code>NULL</code> buffer pointer.
</p>
<p>As a special case, if <code>num.vectors</code> is 0 (in which case, <code>vectors</code>
may of course be <code>NULL</code>), then a single byte is received and
discarded. This is to facilitate the common practice of sending a
single '\0' byte for the purposes of transferring ancillary data.
<code>messages</code>, if non-<code>NULL</code>, will be set to point to a newly-allocated
array of <code><a href="GSocketControlMessage.html">GSocketControlMessage</a></code> instances. These correspond to the
control messages received from the kernel, one
<code><a href="GSocketControlMessage.html">GSocketControlMessage</a></code> per message from the kernel. If
<code>messages</code> is <code>NULL</code>, any control messages received will be
discarded.
<code>num.messages</code>, if non-<code>NULL</code>, will be set to the number of control
messages received.
</p>
<p>If both <code>messages</code> and <code>num.messages</code> are non-<code>NULL</code>, then
<code>num.messages</code> gives the number of <code><a href="GSocketControlMessage.html">GSocketControlMessage</a></code> instances
in <code>messages</code> (ie: not including the <code>NULL</code> terminator).
<code>flags</code> is an in/out parameter. The commonly available arguments
for this are available in the <code style="white-space: pre;">GSocketMsgFlags</code> enum, but the
values there are the same as the system values, and the flags
are passed in as-is, so you can pass in system-specific flags too
(and <code><a href="gSocketReceiveMessage.html">gSocketReceiveMessage</a></code> may pass system-specific flags out).
</p>
<p>As with <code><a href="gSocketReceive.html">gSocketReceive</a></code>, data may be discarded if <code>socket</code> is
<code>G_SOCKET_TYPE_DATAGRAM</code> or <code>G_SOCKET_TYPE_SEQPACKET</code> and you do not
provide enough buffer space to read a complete message. You can pass
<code>G_SOCKET_MSG_PEEK</code> in <code>flags</code> to peek at the current message without
removing it from the receive queue, but there is no portable way to find
out the length of the message other than by reading it into a
sufficiently-large buffer.
</p>
<p>If the socket is in blocking mode the call will block until there
is some data to receive or there is an error. If there is no data
available and the socket is in non-blocking mode, a
<code>G_IO_ERROR_WOULD_BLOCK</code> error will be returned. To be notified when
data is available, wait for the <code>G_IO_IN</code> condition.
</p>
<p>On error -1 is returned and <code>error</code> is set accordingly.
Since 2.22</p>


<h3>Value</h3>

<p>A list containing the following elements:
</p>
<table summary="R valueblock">
<tr valign="top"><td><code>retval</code></td>
<td>
<p>[integer] Number of bytes read, or -1 on error</p>
</td></tr>
<tr valign="top"><td><code><code style="white-space: pre;">address</code></code></td>
<td>
<p>a pointer to a <code><a href="GSocketAddress.html">GSocketAddress</a></code> pointer, or <code>NULL</code></p>
</td></tr>
<tr valign="top"><td><code><code style="white-space: pre;">vectors</code></code></td>
<td>
<p>a list of <code style="white-space: pre;">GInputVector</code> structs</p>
</td></tr>
<tr valign="top"><td><code><code style="white-space: pre;">messages</code></code></td>
<td>
<p>a pointer which will be filled with a list of
<code style="white-space: pre;">GSocketControlMessages</code>, or <code>NULL</code></p>
</td></tr>
<tr valign="top"><td><code><code style="white-space: pre;">num.messages</code></code></td>
<td>
<p>a pointer which will be filled with the number of
elements in <code>messages</code>, or <code>NULL</code></p>
</td></tr>
<tr valign="top"><td><code><code style="white-space: pre;">error</code></code></td>
<td>
<p>a <code><a href="GError.html">GError</a></code> pointer, or <code>NULL</code></p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Derived by RGtkGen from GTK+ documentation</p>

<hr /><div style="text-align: center;">[Package <em>RGtk2</em> version 2.20.31 <a href="00Index.html">Index</a>]</div>
</body></html>
