<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: GtkPrintOperation</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for gtk-High-level-Printing-API {RGtk2}"><tr><td>gtk-High-level-Printing-API {RGtk2}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>GtkPrintOperation</h2>

<h3>Description</h3>

<p>High-level Printing API</p>


<h3>Methods and Functions</h3>

<p><code><a href="gtkPrintOperationNew.html">gtkPrintOperationNew</a>()</code><br />
<code><a href="gtkPrintOperationSetAllowAsync.html">gtkPrintOperationSetAllowAsync</a>(object, allow.async)</code><br />
<code><a href="gtkPrintOperationGetError.html">gtkPrintOperationGetError</a>(object, .errwarn = TRUE)</code><br />
<code><a href="gtkPrintOperationSetDefaultPageSetup.html">gtkPrintOperationSetDefaultPageSetup</a>(object, default.page.setup = NULL)</code><br />
<code><a href="gtkPrintOperationGetDefaultPageSetup.html">gtkPrintOperationGetDefaultPageSetup</a>(object)</code><br />
<code><a href="gtkPrintOperationSetPrintSettings.html">gtkPrintOperationSetPrintSettings</a>(object, print.settings = NULL)</code><br />
<code><a href="gtkPrintOperationGetPrintSettings.html">gtkPrintOperationGetPrintSettings</a>(object)</code><br />
<code><a href="gtkPrintOperationSetJobName.html">gtkPrintOperationSetJobName</a>(object, job.name)</code><br />
<code><a href="gtkPrintOperationSetNPages.html">gtkPrintOperationSetNPages</a>(object, n.pages)</code><br />
<code><a href="gtkPrintOperationGetNPagesToPrint.html">gtkPrintOperationGetNPagesToPrint</a>(object)</code><br />
<code><a href="gtkPrintOperationSetCurrentPage.html">gtkPrintOperationSetCurrentPage</a>(object, current.page)</code><br />
<code><a href="gtkPrintOperationSetUseFullPage.html">gtkPrintOperationSetUseFullPage</a>(object, full.page)</code><br />
<code><a href="gtkPrintOperationSetUnit.html">gtkPrintOperationSetUnit</a>(object, unit)</code><br />
<code><a href="gtkPrintOperationSetExportFilename.html">gtkPrintOperationSetExportFilename</a>(object, filename)</code><br />
<code><a href="gtkPrintOperationSetShowProgress.html">gtkPrintOperationSetShowProgress</a>(object, show.progress)</code><br />
<code><a href="gtkPrintOperationSetTrackPrintStatus.html">gtkPrintOperationSetTrackPrintStatus</a>(object, track.status)</code><br />
<code><a href="gtkPrintOperationSetCustomTabLabel.html">gtkPrintOperationSetCustomTabLabel</a>(object, label)</code><br />
<code><a href="gtkPrintOperationRun.html">gtkPrintOperationRun</a>(object, action, parent = NULL, .errwarn = TRUE)</code><br />
<code><a href="gtkPrintOperationCancel.html">gtkPrintOperationCancel</a>(object)</code><br />
<code><a href="gtkPrintOperationDrawPageFinish.html">gtkPrintOperationDrawPageFinish</a>(object)</code><br />
<code><a href="gtkPrintOperationSetDeferDrawing.html">gtkPrintOperationSetDeferDrawing</a>(object)</code><br />
<code><a href="gtkPrintOperationGetStatus.html">gtkPrintOperationGetStatus</a>(object)</code><br />
<code><a href="gtkPrintOperationGetStatusString.html">gtkPrintOperationGetStatusString</a>(object)</code><br />
<code><a href="gtkPrintOperationIsFinished.html">gtkPrintOperationIsFinished</a>(object)</code><br />
<code><a href="gtkPrintOperationSetSupportSelection.html">gtkPrintOperationSetSupportSelection</a>(object, support.selection)</code><br />
<code><a href="gtkPrintOperationGetSupportSelection.html">gtkPrintOperationGetSupportSelection</a>(object)</code><br />
<code><a href="gtkPrintOperationSetHasSelection.html">gtkPrintOperationSetHasSelection</a>(object, has.selection)</code><br />
<code><a href="gtkPrintOperationGetHasSelection.html">gtkPrintOperationGetHasSelection</a>(object)</code><br />
<code><a href="gtkPrintOperationSetEmbedPageSetup.html">gtkPrintOperationSetEmbedPageSetup</a>(object, embed)</code><br />
<code><a href="gtkPrintOperationGetEmbedPageSetup.html">gtkPrintOperationGetEmbedPageSetup</a>(object)</code><br />
<code><a href="gtkPrintRunPageSetupDialog.html">gtkPrintRunPageSetupDialog</a>(parent, page.setup = NULL, settings)</code><br />
<code><a href="gtkPrintRunPageSetupDialogAsync.html">gtkPrintRunPageSetupDialogAsync</a>(parent, page.setup, settings, done.cb, data)</code><br />
<code><a href="gtkPrintOperationPreviewEndPreview.html">gtkPrintOperationPreviewEndPreview</a>(object)</code><br />
<code><a href="gtkPrintOperationPreviewIsSelected.html">gtkPrintOperationPreviewIsSelected</a>(object, page.nr)</code><br />
<code><a href="gtkPrintOperationPreviewRenderPage.html">gtkPrintOperationPreviewRenderPage</a>(object, page.nr)</code><br />
<code>gtkPrintOperation()</code>
</p>


<h3>Hierarchy</h3>

<pre>
GObject
   +----GtkPrintOperation
GInterface
   +----GtkPrintOperationPreview
</pre>

<h3>Implementations</h3>

<p>GtkPrintOperationPreview is implemented by
<code><a href="gtk-High-level-Printing-API.html">GtkPrintOperation</a></code>.</p>


<h3>Interfaces</h3>

<p>GtkPrintOperation implements
<code><a href="gtk-High-level-Printing-API.html">GtkPrintOperationPreview</a></code>.</p>


<h3>Detailed Description</h3>

<p>GtkPrintOperation is the high-level, portable printing API. It looks
a bit different than other GTK+ dialogs such as the <code><a href="GtkFileChooser.html">GtkFileChooser</a></code>,
since some platforms don't expose enough infrastructure to implement
a good print dialog. On such platforms, GtkPrintOperation uses the
native print dialog. On platforms which do not provide a native
print dialog, GTK+ uses its own, see <code style="white-space: pre;">GtkPrintUnixDialog</code>.
</p>
<p>The typical way to use the high-level printing API is to create a
<code><a href="gtk-High-level-Printing-API.html">GtkPrintOperation</a></code> object with <code><a href="gtkPrintOperationNew.html">gtkPrintOperationNew</a></code> when the user
selects to print. Then you set some properties on it, e.g. the page size,
any <code><a href="GtkPrintSettings.html">GtkPrintSettings</a></code> from previous print operations, the number of pages,
the current page, etc.
</p>
<p>Then you start the print operation by calling <code><a href="gtkPrintOperationRun.html">gtkPrintOperationRun</a></code>.
It will then show a dialog, let the user select a printer and options.
When the user finished the dialog various signals will be emitted on the
<code><a href="gtk-High-level-Printing-API.html">GtkPrintOperation</a></code>, the main one being ::draw-page, which you are supposed
to catch and render the page on the provided <code><a href="GtkPrintContext.html">GtkPrintContext</a></code> using Cairo.
</p>
<p><em>The high-level printing API</em>
</p>
<pre>
settings &lt;- NULL
print_something &lt;-
{
  op &lt;- gtkPrintOperation()

  if (!is.null(settings)) 
    op$setPrintSettings(settings)

  gSignalConnect(op, "begin_print", begin_print)
  gSignalConnect(op, "draw_page", draw_page)

  res &lt;- op$run("print-dialog", main_window)[[1]]

  if (res == "apply")
    settings &lt;- op$getPrintSettings()
}
</pre>  
<p>By default GtkPrintOperation uses an external application to do
print preview. To implement a custom print preview, an application
must connect to the preview signal. The functions
<code>gtkPrintOperationPrintPreviewRenderPage()</code>,
<code><a href="gtkPrintOperationPreviewEndPreview.html">gtkPrintOperationPreviewEndPreview</a></code> and
<code><a href="gtkPrintOperationPreviewIsSelected.html">gtkPrintOperationPreviewIsSelected</a></code> are useful
when implementing a print preview.
</p>
<p>Printing support was added in GTK+ 2.10.</p>


<h3>Structures</h3>


<dl>
<dt><code style="white-space: pre;">GtkPrintOperation</code></dt><dd>
<p><em>undocumented
</em>
</p>
</dd>
<dt><code style="white-space: pre;">GtkPrintOperationPreview</code></dt><dd>
<p><em>undocumented
</em>
</p>
</dd>
</dl>


<h3>Convenient Construction</h3>

<p><code>gtkPrintOperation</code> is the equivalent of <code><a href="gtkPrintOperationNew.html">gtkPrintOperationNew</a></code>.</p>


<h3>Enums and Flags</h3>


<dl>
<dt><code style="white-space: pre;">GtkPrintStatus</code></dt><dd>
<p>The status gives a rough indication of the completion
of a running print operation.
</p>

<dl>
<dt><code style="white-space: pre;">initial</code></dt><dd><p>The printing has not started yet; this
status is set initially, and while the print dialog is shown.</p>
</dd>
<dt><code style="white-space: pre;">preparing</code></dt><dd><p>This status is set while the begin-print 
signal is emitted and during pagination.</p>
</dd>
<dt><code style="white-space: pre;">generating-data</code></dt><dd><p>This status is set while the
pages are being rendered.</p>
</dd>
<dt><code style="white-space: pre;">sending-data</code></dt><dd><p>The print job is being sent off to the 
printer.</p>
</dd>
<dt><code style="white-space: pre;">pending</code></dt><dd><p>The print job has been sent to the printer,
but is not printed for some reason, e.g. the printer may be stopped.</p>
</dd>
<dt><code style="white-space: pre;">pending-issue</code></dt><dd><p>Some problem has occurred during 
printing, e.g. a paper jam.</p>
</dd>
<dt><code style="white-space: pre;">printing</code></dt><dd><p>The printer is processing the print job.</p>
</dd>
<dt><code style="white-space: pre;">finished</code></dt><dd><p>The printing has been completed successfully.</p>
</dd>
<dt><code style="white-space: pre;">finished-aborted</code></dt><dd><p>The printing has been aborted.</p>
</dd>
</dl>

</dd>
<dt><code style="white-space: pre;">GtkPrintOperationAction</code></dt><dd>
<p>The <code>action</code> parameter to <code><a href="gtkPrintOperationRun.html">gtkPrintOperationRun</a></code>
determines what action the print operation should perform.
</p>

<dl>
<dt><code style="white-space: pre;">print-dialog</code></dt><dd><p>Show the print dialog.</p>
</dd>
<dt><code style="white-space: pre;">print</code></dt><dd><p>Start to print without showing
the print dialog, based on the current print settings.</p>
</dd>
<dt><code style="white-space: pre;">preview</code></dt><dd><p>Show the print preview.</p>
</dd>
<dt><code style="white-space: pre;">export</code></dt><dd><p>Export to a file. This requires
the export-filename property to be set.</p>
</dd>
</dl>

</dd>
<dt><code style="white-space: pre;">GtkPrintOperationResult</code></dt><dd>
<p>A value of this type is returned by <code><a href="gtkPrintOperationRun.html">gtkPrintOperationRun</a></code>.
</p>

<dl>
<dt><code style="white-space: pre;">error</code></dt><dd><p>An error has occured.</p>
</dd>
<dt><code style="white-space: pre;">apply</code></dt><dd><p>The print settings should be stored.</p>
</dd>
<dt><code style="white-space: pre;">cancel</code></dt><dd><p>The print operation has been canceled,
the print settings should not be stored.</p>
</dd>
<dt><code style="white-space: pre;">in-progress</code></dt><dd><p>The print operation is not complete
yet. This value will only be returned when running asynchronously.</p>
</dd>
</dl>

</dd>
<dt><code style="white-space: pre;">GtkPrintError</code></dt><dd>
<p>Error codes that identify various errors that can occur while
using the GTK+ printing support.
</p>

<dl>
<dt><code style="white-space: pre;">general</code></dt><dd><p>An unspecified error occurred.</p>
</dd>
<dt><code style="white-space: pre;">internal-error</code></dt><dd><p>An internal error occurred.</p>
</dd>
<dt><code style="white-space: pre;">nomem</code></dt><dd><p>A memory allocation failed.</p>
</dd>
</dl>

</dd>
</dl>


<h3>User Functions</h3>

<dl>
<dt><code>GtkPageSetupDoneFunc(page.setup, data)</code></dt><dd>
<p>The type of function that is passed to <code><a href="gtkPrintRunPageSetupDialogAsync.html">gtkPrintRunPageSetupDialogAsync</a></code>.
This function will be called when the page setup dialog is dismissed, and
also serves as destroy notify for <code>data</code>.
</p>

<dl>
<dt><code>page.setup</code></dt><dd><p>the <code><a href="GtkPageSetup.html">GtkPageSetup</a></code> that has been</p>
</dd>
<dt><code>data</code></dt><dd><p>user data that has been passed to
<code><a href="gtkPrintRunPageSetupDialogAsync.html">gtkPrintRunPageSetupDialogAsync</a></code>.</p>
</dd>
</dl>

</dd></dl>


<h3>Signals</h3>


<dl>
<dt><code>begin-print(operation, context, user.data)</code></dt><dd>
<p>Emitted after the user has finished changing print settings
in the dialog, before the actual rendering starts.
</p>
<p>A typical use for ::begin-print is to use the parameters from the
<code><a href="GtkPrintContext.html">GtkPrintContext</a></code> and paginate the document accordingly, and then
set the number of pages with <code><a href="gtkPrintOperationSetNPages.html">gtkPrintOperationSetNPages</a></code>.
Since 2.10
</p>

<dl>
<dt><code>operation</code></dt><dd><p>the <code><a href="gtk-High-level-Printing-API.html">GtkPrintOperation</a></code> on which the signal was emitted</p>
</dd>
<dt><code>context</code></dt><dd><p>the <code><a href="GtkPrintContext.html">GtkPrintContext</a></code> for the current operation</p>
</dd>
<dt><code>user.data</code></dt><dd><p>user data set when the signal handler was connected.</p>
</dd>
</dl>

</dd>
<dt><code>create-custom-widget(operation, user.data)</code></dt><dd>
<p>Emitted when displaying the print dialog. If you return a
widget in a handler for this signal it will be added to a custom
tab in the print dialog. You typically return a container widget
with multiple widgets in it.
</p>
<p>The print dialog owns the returned widget, and its lifetime is not
controlled by the application. However, the widget is guaranteed
to stay around until the <code style="white-space: pre;">"custom-widget-apply"</code>
signal is emitted on the operation. Then you can read out any
information you need from the widgets.
Since 2.10
</p>

<dl>
<dt><code>operation</code></dt><dd><p>the <code><a href="gtk-High-level-Printing-API.html">GtkPrintOperation</a></code> on which the signal was emitted</p>
</dd>
<dt><code>user.data</code></dt><dd><p>user data set when the signal handler was connected.</p>
</dd>
</dl>

<p><em>Returns:</em> [<code><a href="GObject.html">GObject</a></code>] A custom widget that gets embedded in the print dialog,
or <code>NULL</code>
</p>
</dd>
<dt><code>custom-widget-apply(operation, widget, user.data)</code></dt><dd>
<p>Emitted right before <code style="white-space: pre;">"begin-print"</code> if you added
a custom widget in the <code style="white-space: pre;">"create-custom-widget"</code> handler.
When you get this signal you should read the information from the
custom widgets, as the widgets are not guaraneed to be around at a
later time.
Since 2.10
</p>

<dl>
<dt><code>operation</code></dt><dd><p>the <code><a href="gtk-High-level-Printing-API.html">GtkPrintOperation</a></code> on which the signal was emitted</p>
</dd>
<dt><code>widget</code></dt><dd><p>the custom widget added in create-custom-widget</p>
</dd>
<dt><code>user.data</code></dt><dd><p>user data set when the signal handler was connected.</p>
</dd>
</dl>

</dd>
<dt><code>done(operation, result, user.data)</code></dt><dd>
<p>Emitted when the print operation run has finished doing
everything required for printing.
<code>result</code> gives you information about what happened during the run.
If <code>result</code> is <code>GTK_PRINT_OPERATION_RESULT_ERROR</code> then you can call
<code><a href="gtkPrintOperationGetError.html">gtkPrintOperationGetError</a></code> for more information.
</p>
<p>If you enabled print status tracking then
<code><a href="gtkPrintOperationIsFinished.html">gtkPrintOperationIsFinished</a></code> may still return <code>FALSE</code>
after <code style="white-space: pre;">"done"</code> was emitted.
Since 2.10
</p>

<dl>
<dt><code>operation</code></dt><dd><p>the <code><a href="gtk-High-level-Printing-API.html">GtkPrintOperation</a></code> on which the signal was emitted</p>
</dd>
<dt><code>result</code></dt><dd><p>the result of the print operation</p>
</dd>
<dt><code>user.data</code></dt><dd><p>user data set when the signal handler was connected.</p>
</dd>
</dl>

</dd>
<dt><code>draw-page(operation, context, page.nr, user.data)</code></dt><dd>
<p>Emitted for every page that is printed. The signal handler
must render the <code>page.nr</code>'s page onto the cairo context obtained
from <code>context</code> using <code><a href="gtkPrintContextGetCairoContext.html">gtkPrintContextGetCairoContext</a></code>.
</p>
<pre>
draw_page &lt;- (operation, context, page_nr, user_data)
{
  cr &lt;- context$getCairoContext()
  width &lt;- context$getWidth()
  
  cr$rectangle(0, 0, width, HEADER_HEIGHT)
  
  cr$setSourceRgb(0.8, 0.8, 0.8)
  cr$fill()
  
  layout &lt;- context$createPangoLayout()
  
  desc &lt;- pangoFontDescriptionFromString("sans 14")
  layout$setFontDescription(desc)
  
  layout$setText("some text")
  layout$setWidth(width)
  layout$setAlignment(layout, "center")
     		      
  layout_height &lt;- layout$getSize()$height
  text_height &lt;- layout_height / PANGO_SCALE
  
  cr$moveTo(width / 2,  (HEADER_HEIGHT - text_height) / 2)
  pangoCairoShowLayout(cr, layout)
}
</pre>
<p>Use <code><a href="gtkPrintOperationSetUseFullPage.html">gtkPrintOperationSetUseFullPage</a></code> and
<code><a href="gtkPrintOperationSetUnit.html">gtkPrintOperationSetUnit</a></code> before starting the print operation
to set up the transformation of the cairo context according to your
needs.
Since 2.10
</p>

<dl>
<dt><code>operation</code></dt><dd><p>the <code><a href="gtk-High-level-Printing-API.html">GtkPrintOperation</a></code> on which the signal was emitted</p>
</dd>
<dt><code>context</code></dt><dd><p>the <code><a href="GtkPrintContext.html">GtkPrintContext</a></code> for the current operation</p>
</dd>
<dt><code>page.nr</code></dt><dd><p>the number of the currently printed page (0-based)</p>
</dd>
<dt><code>user.data</code></dt><dd><p>user data set when the signal handler was connected.</p>
</dd>
</dl>

</dd>
<dt><code>end-print(operation, context, user.data)</code></dt><dd>
<p>Emitted after all pages have been rendered.
A handler for this signal can clean up any resources that have
been allocated in the <code style="white-space: pre;">"begin-print"</code> handler.
Since 2.10
</p>

<dl>
<dt><code>operation</code></dt><dd><p>the <code><a href="gtk-High-level-Printing-API.html">GtkPrintOperation</a></code> on which the signal was emitted</p>
</dd>
<dt><code>context</code></dt><dd><p>the <code><a href="GtkPrintContext.html">GtkPrintContext</a></code> for the current operation</p>
</dd>
<dt><code>user.data</code></dt><dd><p>user data set when the signal handler was connected.</p>
</dd>
</dl>

</dd>
<dt><code>paginate(operation, context, user.data)</code></dt><dd>
<p>Emitted after the <code style="white-space: pre;">"begin-print"</code> signal, but before
the actual rendering starts. It keeps getting emitted until a connected
signal handler returns <code>TRUE</code>.
</p>
<p>The ::paginate signal is intended to be used for paginating a document
in small chunks, to avoid blocking the user interface for a long
time. The signal handler should update the number of pages using
<code><a href="gtkPrintOperationSetNPages.html">gtkPrintOperationSetNPages</a></code>, and return <code>TRUE</code> if the document
has been completely paginated.
</p>
<p>If you don't need to do pagination in chunks, you can simply do
it all in the ::begin-print handler, and set the number of pages
from there.
Since 2.10
</p>

<dl>
<dt><code>operation</code></dt><dd><p>the <code><a href="gtk-High-level-Printing-API.html">GtkPrintOperation</a></code> on which the signal was emitted</p>
</dd>
<dt><code>context</code></dt><dd><p>the <code><a href="GtkPrintContext.html">GtkPrintContext</a></code> for the current operation</p>
</dd>
<dt><code>user.data</code></dt><dd><p>user data set when the signal handler was connected.</p>
</dd>
</dl>

<p><em>Returns:</em> [logical] <code>TRUE</code> if pagination is complete
</p>
</dd>
<dt><code>preview(operation, preview, context, parent, user.data)</code></dt><dd>
<p>Gets emitted when a preview is requested from the native dialog.
</p>
<p>The default handler for this signal uses an external viewer
application to preview.
</p>
<p>To implement a custom print preview, an application must return
<code>TRUE</code> from its handler for this signal. In order to use the
provided <code>context</code> for the preview implementation, it must be
given a suitable cairo context with <code><a href="gtkPrintContextSetCairoContext.html">gtkPrintContextSetCairoContext</a></code>.
</p>
<p>The custom preview implementation can use
<code><a href="gtkPrintOperationPreviewIsSelected.html">gtkPrintOperationPreviewIsSelected</a></code> and
<code><a href="gtkPrintOperationPreviewRenderPage.html">gtkPrintOperationPreviewRenderPage</a></code> to find pages which
are selected for print and render them. The preview must be
finished by calling <code><a href="gtkPrintOperationPreviewEndPreview.html">gtkPrintOperationPreviewEndPreview</a></code>
(typically in response to the user clicking a close button).
Since 2.10
</p>

<dl>
<dt><code>operation</code></dt><dd><p>the <code><a href="gtk-High-level-Printing-API.html">GtkPrintOperation</a></code> on which the signal was emitted</p>
</dd>
<dt><code>preview</code></dt><dd><p>the <code style="white-space: pre;">GtkPrintPreviewOperation</code> for the current operation</p>
</dd>
<dt><code>context</code></dt><dd><p>the <code><a href="GtkPrintContext.html">GtkPrintContext</a></code> that will be used</p>
</dd>
<dt><code>parent</code></dt><dd><p>the <code><a href="GtkWindow.html">GtkWindow</a></code> to use as window parent, or <code>NULL</code>. <em>[  <acronym><span class="acronym">allow-none</span></acronym>  ]</em></p>
</dd>
<dt><code>user.data</code></dt><dd><p>user data set when the signal handler was connected.</p>
</dd>
</dl>

<p><em>Returns:</em> [logical] <code>TRUE</code> if the listener wants to take over control of the preview
</p>
</dd>
<dt><code>request-page-setup(operation, context, page.nr, setup, user.data)</code></dt><dd>
<p>Emitted once for every page that is printed, to give
the application a chance to modify the page setup. Any changes
done to <code>setup</code> will be in force only for printing this page.
Since 2.10
</p>

<dl>
<dt><code>operation</code></dt><dd><p>the <code><a href="gtk-High-level-Printing-API.html">GtkPrintOperation</a></code> on which the signal was emitted</p>
</dd>
<dt><code>context</code></dt><dd><p>the <code><a href="GtkPrintContext.html">GtkPrintContext</a></code> for the current operation</p>
</dd>
<dt><code>page.nr</code></dt><dd><p>the number of the currently printed page (0-based)</p>
</dd>
<dt><code>setup</code></dt><dd><p>the <code><a href="GtkPageSetup.html">GtkPageSetup</a></code></p>
</dd>
<dt><code>user.data</code></dt><dd><p>user data set when the signal handler was connected.</p>
</dd>
</dl>

</dd>
<dt><code>status-changed(operation, user.data)</code></dt><dd>
<p>Emitted at between the various phases of the print operation.
See <code><a href="gtk-High-level-Printing-API.html">GtkPrintStatus</a></code> for the phases that are being discriminated.
Use <code><a href="gtkPrintOperationGetStatus.html">gtkPrintOperationGetStatus</a></code> to find out the current
status.
Since 2.10
</p>

<dl>
<dt><code>operation</code></dt><dd><p>the <code><a href="gtk-High-level-Printing-API.html">GtkPrintOperation</a></code> on which the signal was emitted</p>
</dd>
<dt><code>user.data</code></dt><dd><p>user data set when the signal handler was connected.</p>
</dd>
</dl>

</dd>
<dt><code>update-custom-widget(operation, widget, setup, settings, user.data)</code></dt><dd>
<p>Emitted after change of selected printer. The actual page setup and
print settings are passed to the custom widget, which can actualize
itself according to this change.
Since 2.18
</p>

<dl>
<dt><code>operation</code></dt><dd><p>the <code><a href="gtk-High-level-Printing-API.html">GtkPrintOperation</a></code> on which the signal was emitted</p>
</dd>
<dt><code>widget</code></dt><dd><p>the custom widget added in create-custom-widget</p>
</dd>
<dt><code>setup</code></dt><dd><p>actual page setup</p>
</dd>
<dt><code>settings</code></dt><dd><p>actual print settings</p>
</dd>
<dt><code>user.data</code></dt><dd><p>user data set when the signal handler was connected.</p>
</dd>
</dl>

</dd>
<dt><code>got-page-size(preview, context, page.setup, user.data)</code></dt><dd>
<p>The ::got-page-size signal is emitted once for each page
that gets rendered to the preview.
</p>
<p>A handler for this signal should update the <code>context</code>
according to <code>page.setup</code> and set up a suitable cairo
context, using <code><a href="gtkPrintContextSetCairoContext.html">gtkPrintContextSetCairoContext</a></code>.
</p>

<dl>
<dt><code>preview</code></dt><dd><p>the object on which the signal is emitted</p>
</dd>
<dt><code>context</code></dt><dd><p>the current <code><a href="GtkPrintContext.html">GtkPrintContext</a></code></p>
</dd>
<dt><code>page.setup</code></dt><dd><p>the <code><a href="GtkPageSetup.html">GtkPageSetup</a></code> for the current page</p>
</dd>
<dt><code>user.data</code></dt><dd><p>user data set when the signal handler was connected.</p>
</dd>
</dl>

</dd>
<dt><code>ready(preview, context, user.data)</code></dt><dd>
<p>The ::ready signal gets emitted once per preview operation,
before the first page is rendered.
</p>
<p>A handler for this signal can be used for setup tasks.
</p>

<dl>
<dt><code>preview</code></dt><dd><p>the object on which the signal is emitted</p>
</dd>
<dt><code>context</code></dt><dd><p>the current <code><a href="GtkPrintContext.html">GtkPrintContext</a></code></p>
</dd>
<dt><code>user.data</code></dt><dd><p>user data set when the signal handler was connected.</p>
</dd>
</dl>

</dd>
</dl>


<h3>Properties</h3>


<dl>
<dt><code style="white-space: pre;">allow-async</code> [logical : Read / Write]</dt><dd>
<p>Determines whether the print operation may run asynchronously or not.
</p>
<p>Some systems don't support asynchronous printing, but those that do
will return <code>GTK_PRINT_OPERATION_RESULT_IN_PROGRESS</code> as the status, and
emit the <code style="white-space: pre;">"done"</code> signal when the operation is actually
done.
</p>
<p>The Windows port does not support asynchronous operation at all (this
is unlikely to change). On other platforms, all actions except for
<code>GTK_PRINT_OPERATION_ACTION_EXPORT</code> support asynchronous operation.
Default value: FALSE  Since 2.10
</p>
</dd>
<dt><code style="white-space: pre;">current-page</code> [integer : Read / Write]</dt><dd>
<p>The current page in the document.
</p>
<p>If this is set before <code><a href="gtkPrintOperationRun.html">gtkPrintOperationRun</a></code>,
the user will be able to select to print only the current page.
</p>
<p>Note that this only makes sense for pre-paginated documents.
Allowed values: &gt;= -1  Default value: -1  Since 2.10
</p>
</dd>
<dt><code style="white-space: pre;">custom-tab-label</code> [character : *                : Read / Write]</dt><dd>
<p>Used as the label of the tab containing custom widgets.
Note that this property may be ignored on some platforms.
</p>
<p>If this is <code>NULL</code>, GTK+ uses a default label.
Default value: NULL  Since 2.10
</p>
</dd>
<dt><code style="white-space: pre;">default-page-setup</code> [<code><a href="GtkPageSetup.html">GtkPageSetup</a></code> : *         : Read / Write]</dt><dd>
<p>The <code><a href="GtkPageSetup.html">GtkPageSetup</a></code> used by default.
</p>
<p>This page setup will be used by <code><a href="gtkPrintOperationRun.html">gtkPrintOperationRun</a></code>,
but it can be overridden on a per-page basis by connecting
to the <code style="white-space: pre;">"request-page-setup"</code> signal.
Since 2.10
</p>
</dd>
<dt><code style="white-space: pre;">embed-page-setup</code> [logical : Read / Write]</dt><dd>
<p>If <code>TRUE</code>, page size combo box and orientation combo box are embedded into page setup page.
Default value: FALSE  Since 2.18
</p>
</dd>
<dt><code style="white-space: pre;">export-filename</code> [character : *                : Read / Write]</dt><dd>
<p>The name of a file to generate instead of showing the print dialog.
Currently, PDF is the only supported format.
</p>
<p>The intended use of this property is for implementing
&quot;Export to PDF&quot; actions.
</p>
<p>&quot;Print to PDF&quot; support is independent of this and is done
by letting the user pick the &quot;Print to PDF&quot; item from the
list of printers in the print dialog.
Default value: NULL  Since 2.10
</p>
</dd>
<dt><code style="white-space: pre;">has-selection</code> [logical : Read / Write]</dt><dd>
<p>Determines whether there is a selection in your application.
This can allow your application to print the selection.
This is typically used to make a &quot;Selection&quot; button sensitive.
Default value: FALSE  Since 2.18
</p>
</dd>
<dt><code style="white-space: pre;">job-name</code> [character : *                : Read / Write]</dt><dd>
<p>A string used to identify the job (e.g. in monitoring
applications like eggcups).
</p>
<p>If you don't set a job name, GTK+ picks a default one
by numbering successive print jobs.
Default value: &quot;&quot;  Since 2.10
</p>
</dd>
<dt><code style="white-space: pre;">n-pages</code> [integer : Read / Write]</dt><dd>
<p>The number of pages in the document.
</p>
<p>This <em>must</em> be set to a positive number
before the rendering starts. It may be set in a
<code style="white-space: pre;">"begin-print"</code> signal hander.
</p>
<p>Note that the page numbers passed to the
<code style="white-space: pre;">"request-page-setup"</code> and
<code style="white-space: pre;">"draw-page"</code> signals are 0-based, i.e. if
the user chooses to print all pages, the last ::draw-page signal
will be for page <code>n.pages</code> - 1.
Allowed values: &gt;= -1  Default value: -1  Since 2.10
</p>
</dd>
<dt><code style="white-space: pre;">n-pages-to-print</code> [integer : Read]</dt><dd>
<p>The number of pages that will be printed.
</p>
<p>Note that this value is set during print preparation phase
(<code>GTK_PRINT_STATUS_PREPARING</code>), so this value should never be
get before the data generation phase (<code>GTK_PRINT_STATUS_GENERATING_DATA</code>).
You can connect to the <code style="white-space: pre;">"status-changed"</code> signal
and call <code><a href="gtkPrintOperationGetNPagesToPrint.html">gtkPrintOperationGetNPagesToPrint</a></code> when
print status is <code>GTK_PRINT_STATUS_GENERATING_DATA</code>.
This is typically used to track the progress of print operation.
Allowed values: &gt;= -1  Default value: -1  Since 2.18
</p>
</dd>
<dt><code style="white-space: pre;">print-settings</code> [<code><a href="GtkPrintSettings.html">GtkPrintSettings</a></code> : *     : Read / Write]</dt><dd>
<p>The <code><a href="GtkPrintSettings.html">GtkPrintSettings</a></code> used for initializing the dialog.
</p>
<p>Setting this property is typically used to re-establish
print settings from a previous print operation, see
<code><a href="gtkPrintOperationRun.html">gtkPrintOperationRun</a></code>.
Since 2.10
</p>
</dd>
<dt><code style="white-space: pre;">show-progress</code> [logical : Read / Write]</dt><dd>
<p>Determines whether to show a progress dialog during the
print operation.
Default value: FALSE  Since 2.10
</p>
</dd>
<dt><code style="white-space: pre;">status</code> [<code><a href="gtk-High-level-Printing-API.html">GtkPrintStatus</a></code> : Read]</dt><dd>
<p>The status of the print operation.
Default value: GTK_PRINT_STATUS_INITIAL  Since 2.10
</p>
</dd>
<dt><code style="white-space: pre;">status-string</code> [character : *                : Read]</dt><dd>
<p>A string representation of the status of the print operation.
The string is translated and suitable for displaying the print
status e.g. in a <code><a href="GtkStatusbar.html">GtkStatusbar</a></code>.
</p>
<p>See the <code style="white-space: pre;">"status"</code> property for a status value that
is suitable for programmatic use.
Default value: &quot;&quot;  Since 2.10
</p>
</dd>
<dt><code style="white-space: pre;">support-selection</code> [logical : Read / Write]</dt><dd>
<p>If <code>TRUE</code>, the print operation will support print of selection.
This allows the print dialog to show a &quot;Selection&quot; button.
Default value: FALSE  Since 2.18
</p>
</dd>
<dt><code style="white-space: pre;">track-print-status</code> [logical : Read / Write]</dt><dd>
<p>If <code>TRUE</code>, the print operation will try to continue report on
the status of the print job in the printer queues and printer.
This can allow your application to show things like &quot;out of paper&quot;
issues, and when the print job actually reaches the printer.
However, this is often implemented using polling, and should
not be enabled unless needed.
Default value: FALSE  Since 2.10
</p>
</dd>
<dt><code style="white-space: pre;">unit</code> [<code><a href="GtkPaperSize.html">GtkUnit</a></code> : Read / Write]</dt><dd>
<p>The transformation for the cairo context obtained from
<code><a href="GtkPrintContext.html">GtkPrintContext</a></code> is set up in such a way that distances
are measured in units of <code>unit</code>.
Default value: GTK_UNIT_PIXEL  Since 2.10
</p>
</dd>
<dt><code style="white-space: pre;">use-full-page</code> [logical : Read / Write]</dt><dd>
<p>If <code>TRUE</code>, the transformation for the cairo context obtained
from <code><a href="GtkPrintContext.html">GtkPrintContext</a></code> puts the origin at the top left corner
of the page (which may not be the top left corner of the sheet,
depending on page orientation and the number of pages per sheet).
Otherwise, the origin is at the top left corner of the imageable
area (i.e. inside the margins).
Default value: FALSE  Since 2.10
</p>
</dd>
</dl>


<h3>Author(s)</h3>

<p>Derived by RGtkGen from GTK+ documentation</p>


<h3>References</h3>

<p><a href="http://library.gnome.org/devel//gtk/gtk-High-level-Printing-API.html">http://library.gnome.org/devel//gtk/gtk-High-level-Printing-API.html</a></p>


<h3>See Also</h3>

<p><code><a href="GtkPrintContext.html">GtkPrintContext</a></code></p>

<hr /><div style="text-align: center;">[Package <em>RGtk2</em> version 2.20.31 <a href="00Index.html">Index</a>]</div>
</body></html>
