<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Cross-validate a gbm</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for gbmCrossVal {gbm}"><tr><td>gbmCrossVal {gbm}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Cross-validate a gbm</h2>

<h3>Description</h3>

<p>Functions for cross-validating gbm. These functions are
used internally and are not intended for end-user direct usage.</p>


<h3>Usage</h3>

<pre>
gbmCrossVal(cv.folds, nTrain, n.cores,
class.stratify.cv, data,
x, y, offset, distribution, w, var.monotone,
n.trees, interaction.depth, n.minobsinnode,
shrinkage, bag.fraction,
var.names, response.name, group)

gbmCrossValModelBuild(cv.folds, cv.group, n.cores,
i.train, x, y, offset,
distribution, w, var.monotone,
n.trees, interaction.depth,
n.minobsinnode, shrinkage,
bag.fraction, var.names,
response.name, group)

gbmDoFold(X, i.train, x, y, offset, distribution, w, var.monotone, n.trees,
         interaction.depth, n.minobsinnode, shrinkage, bag.fraction,
         cv.group, var.names, response.name, group, s)

gbmCrossValErr(cv.models, cv.folds, cv.group, nTrain, n.trees)

gbmCrossValPredictions(cv.models, cv.folds, cv.group,
best.iter.cv, distribution, data, y)


</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>cv.folds</code></td>
<td>
<p>The number of cross-validation folds.</p>
</td></tr>
<tr valign="top"><td><code>nTrain</code></td>
<td>
<p>The number of training samples.</p>
</td></tr>
<tr valign="top"><td><code>n.cores</code></td>
<td>
<p>The number of cores to use.</p>
</td></tr>
<tr valign="top"><td><code>class.stratify.cv</code></td>
<td>
<p>Whether or not stratified cross-validation
samples are used.</p>
</td></tr>
<tr valign="top"><td><code>data</code></td>
<td>
<p>The data.</p>
</td></tr>
<tr valign="top"><td><code>x</code></td>
<td>
<p>The model matrix.</p>
</td></tr>
<tr valign="top"><td><code>y</code></td>
<td>
<p>The response variable.</p>
</td></tr>
<tr valign="top"><td><code>offset</code></td>
<td>
<p>The offset.</p>
</td></tr>
<tr valign="top"><td><code>distribution</code></td>
<td>
<p>The type of loss function. See <code><a href="gbm.html">gbm</a></code>.</p>
</td></tr>
<tr valign="top"><td><code>w</code></td>
<td>
<p>Observation weights.</p>
</td></tr>
<tr valign="top"><td><code>var.monotone</code></td>
<td>
<p>See <code><a href="gbm.html">gbm</a></code>.</p>
</td></tr>
<tr valign="top"><td><code>n.trees</code></td>
<td>
<p>The number of trees to fit.</p>
</td></tr>
<tr valign="top"><td><code>interaction.depth</code></td>
<td>
<p>The degree of allowed interactions. See <code><a href="gbm.html">gbm</a></code>.</p>
</td></tr>
<tr valign="top"><td><code>n.minobsinnode</code></td>
<td>
<p>See <code><a href="gbm.html">gbm</a></code>.</p>
</td></tr>
<tr valign="top"><td><code>shrinkage</code></td>
<td>
<p>See <code><a href="gbm.html">gbm</a></code>.</p>
</td></tr>
<tr valign="top"><td><code>bag.fraction</code></td>
<td>
<p>See <code><a href="gbm.html">gbm</a></code>.</p>
</td></tr>
<tr valign="top"><td><code>var.names</code></td>
<td>
<p>See <code><a href="gbm.html">gbm</a></code>.</p>
</td></tr>
<tr valign="top"><td><code>response.name</code></td>
<td>
<p>See <code><a href="gbm.html">gbm</a></code>.</p>
</td></tr>
<tr valign="top"><td><code>group</code></td>
<td>
<p>Used when <code>distribution = "pairwise"</code>. See
<code><a href="gbm.html">gbm</a></code>.</p>
</td></tr>
<tr valign="top"><td><code>i.train</code></td>
<td>
<p>Items in the training set.</p>
</td></tr>
<tr valign="top"><td><code>cv.models</code></td>
<td>
<p>A list containing the models for each fold.</p>
</td></tr>
<tr valign="top"><td><code>cv.group</code></td>
<td>
<p>A vector indicating the cross-validation fold for each
member of the training set.</p>
</td></tr>
<tr valign="top"><td><code>best.iter.cv</code></td>
<td>
<p>The iteration with lowest cross-validation error.</p>
</td></tr>
<tr valign="top"><td><code>X</code></td>
<td>
<p>Index (cross-validation fold) on which to subset.</p>
</td></tr>
<tr valign="top"><td><code>s</code></td>
<td>
<p>Random seed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These functions are not intended for end-user direct usage, but are used
internally by <code>gbm</code>.</p>


<h3>Value</h3>

<p>A list containing the cross-validation error and predictions.</p>


<h3>Author(s)</h3>

<p>Greg Ridgeway <a href="mailto:gregridgeway@gmail.com">gregridgeway@gmail.com</a></p>


<h3>References</h3>

<p>J.H. Friedman (2001). &quot;Greedy Function Approximation: A Gradient Boosting
Machine,&quot; Annals of Statistics 29(5):1189-1232.
</p>
<p>L. Breiman (2001). <a href="http://oz.berkeley.edu/users/breiman/randomforest2001.pdf">Random Forests</a>.
</p>


<h3>See Also</h3>

 <p><code><a href="gbm.html">gbm</a></code> </p>

<hr /><div style="text-align: center;">[Package <em>gbm</em> version 2.1.1 <a href="00Index.html">Index</a>]</div>
</body></html>
