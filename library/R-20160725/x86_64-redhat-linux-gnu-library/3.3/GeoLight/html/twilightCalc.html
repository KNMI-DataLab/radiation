<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Calculate twilight events (sunrise/sunset) from light...</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for twilightCalc {GeoLight}"><tr><td>twilightCalc {GeoLight}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Calculate twilight events (sunrise/sunset) from light intensity measurements
over time</h2>

<h3>Description</h3>

<p>Defines twilight events (sunrise/sunset) at times when the light intensity
measurements (<em>light</em>) pass the defined light intensity threshold. An
interactive plot can be drawn to assess the calculations and improve e.g.
select only the realistic events.
</p>


<h3>Usage</h3>

<pre>
twilightCalc(datetime, light, LightThreshold = TRUE, preSelection = TRUE,
  maxLight = NULL, ask = TRUE, nsee = 500, allTwilights = FALSE)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>datetime</code></td>
<td>
<p>date and time of light intensity measurements e.g.
2008-12-01 08:30 &quot;UTC&quot; (see:
<code><a href="../../base/html/as.POSIXlt.html">as.POSIXct</a></code>,<a href="../../base/html/timezones.html">time zones</a>).</p>
</td></tr>
<tr valign="top"><td><code>light</code></td>
<td>
<p><code>numerical</code> value of the light intensity (usually
arbitrary units).</p>
</td></tr>
<tr valign="top"><td><code>LightThreshold</code></td>
<td>
<p>the light intensity threshold for the twilight event
calibration. If <code>Default</code>, it will be set slightly above (3 units) the
baseline level (measurement during the night).</p>
</td></tr>
<tr valign="top"><td><code>preSelection</code></td>
<td>
<p>codelogical, if TRUE a pre selection of all calculated
twiligth events will be offered within the interactive process (ask=TRUE).</p>
</td></tr>
<tr valign="top"><td><code>maxLight</code></td>
<td>
<p>if the geolocator record the maximum light value of a
certain time span, give the interval of maximum recordings in minutes (e.g.
5).</p>
</td></tr>
<tr valign="top"><td><code>ask</code></td>
<td>
<p><code>logical</code>, if TRUE the interactive plot will start after the
calculation.</p>
</td></tr>
<tr valign="top"><td><code>nsee</code></td>
<td>
<p>number of points to plot per screen.</p>
</td></tr>
<tr valign="top"><td><code>allTwilights</code></td>
<td>
<p><code>logical</code>, if TRUE the function returns a list with
two tables</p>
</td></tr>
</table>


<h3>Value</h3>

<p>if allTwilights=FALSE, a <code>data frame</code>. Each row contains two
subsequent twilight events (<em>tFirst, tSecond</em>) and <em>type</em> defining
wether <em>tFirst</em> refers to sunrise (1) or sunset (2). If
allTwilights=TRUE, a <code>list</code> with the data frame described in the
previous sentence and a data frame with all light intensities and a column
describing whether each row refers to sunrise (1), sunset (2) or to none of
these categories (0).
</p>


<h3>Note</h3>

<p>Depending on shading during light intensity measurements (e.g. due to
vegetation, weather, etc., see Lisovski et <em>al.</em> 2012) the light
intensities may pass the light intensity threshold several times during the
day, resulting false sunrises and sunsets. It is highly recommended to check
the derived events visually (<code>ask=TRUE</code>).Twilight events can be deleted
and undeleted by clicking the (first) mouse button at the particular
position in the graph. The second mouse buttom (or esc) moves the time
series forward. Note, that a backward option is not included.
</p>


<h3>Author(s)</h3>

<p>Simeon Lisovski
</p>

<hr /><div style="text-align: center;">[Package <em>GeoLight</em> version 2.0.0 <a href="00Index.html">Index</a>]</div>
</body></html>
