<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Simulation of Buffon's Needle</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for buffon.needle {animation}"><tr><td>buffon.needle {animation}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Simulation of Buffon's Needle</h2>

<h3>Description</h3>

<p>This function provides a simulation for the problem of Buffon's Needle, which
is one of the oldest problems in the field of geometrical probability.
</p>


<h3>Usage</h3>

<pre>
buffon.needle(l = 0.8, d = 1, redraw = TRUE, mat = matrix(c(1, 3, 2, 3), 2), 
    heights = c(3, 2), col = c("lightgray", "red", "gray", "red", "blue", "black", 
        "red"), expand = 0.4, type = "l", ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>l</code></td>
<td>
<p>numerical. length of the needle; shorter than <code>d</code>.</p>
</td></tr>
<tr valign="top"><td><code>d</code></td>
<td>
<p>numerical. distances between lines; it should be longer than
<code>l</code>.</p>
</td></tr>
<tr valign="top"><td><code>redraw</code></td>
<td>
<p>logical. redraw former &lsquo;needles&rsquo; or not for each drop.</p>
</td></tr>
<tr valign="top"><td><code>mat, heights</code></td>
<td>
<p>arguments passed to <code><a href="../../graphics/html/layout.html">layout</a></code> to set the layout
of the three graphs.</p>
</td></tr>
<tr valign="top"><td><code>col</code></td>
<td>
<p>a character vector of length 7 specifying the colors of:
background of the area between parallel lines, the needles, the sin curve,
points below / above the sin curve, estimated <i>&pi;</i> values, and the
true <i>&pi;</i> value.</p>
</td></tr>
<tr valign="top"><td><code>expand</code></td>
<td>
<p>a numerical value defining the expanding range of the y-axis
when plotting the estimated <i>&pi;</i> values: the <code>ylim</code> will be
<code>(1 +/- expand) * pi</code>.</p>
</td></tr>
<tr valign="top"><td><code>type</code></td>
<td>
<p>an argument passed to <code><a href="../../graphics/html/plot.default.html">plot</a></code>
when plotting the estimated <i>&pi;</i> values (default to be lines).</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>other arguments passed to
<code><a href="../../graphics/html/plot.default.html">plot</a></code> when plotting the values of
estimated <i>&pi;</i>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is quite an old problem in probability. For mathematical background,
please refer to <a href="http://en.wikipedia.org/wiki/Buffon's_needle">http://en.wikipedia.org/wiki/Buffon's_needle</a> or
<a href="http://www.mste.uiuc.edu/reese/buffon/buffon.html">http://www.mste.uiuc.edu/reese/buffon/buffon.html</a>.
</p>
<p>&lsquo;Needles&rsquo; are denoted by segments on the 2D plane, and dropped randomly to
check whether they cross the parallel lines. Through many times of &lsquo;dropping&rsquo;
needles, the approximate value of <i>&pi;</i> can be calculated out.
</p>
<p>There are three graphs made in each step: the top-left one is a simulation of
the scenario, the top-right one is to help us understand the connection
between dropping needles and the mathematical method to estimate <i>&pi;</i>,
and the bottom one is the result for each drop.
</p>


<h3>Value</h3>

<p>The values of estimated <i>&pi;</i> are returned as a numerical vector
(of length <code>nmax</code>).
</p>


<h3>Note</h3>

<p>Note that <code>redraw</code> has great influence on the speed of the
simulation (animation) if the control argument <code>nmax</code> (in
<code><a href="ani.options.html">ani.options</a></code>) is quite large, so you'd better specify it as
<code>FALSE</code> when doing a large amount of simulations.
</p>
<p>The maximum number of drops is specified in <code>ani.options('nmax')</code>.
</p>


<h3>Author(s)</h3>

<p>Yihui Xie
</p>


<h3>References</h3>

<p>Ramaley, J. F. (Oct 1969). Buffon's Noodle Problem. <em>The
American Mathematical Monthly</em> <b>76</b> (8): 916-918.
</p>
<p><a href="http://vis.supstat.com/2013/04/buffons-needle">http://vis.supstat.com/2013/04/buffons-needle</a>
</p>


<h3>Examples</h3>

<pre>
## it takes several seconds if 'redraw = TRUE'
oopt = ani.options(nmax = ifelse(interactive(), 500, 2), interval = 0.05)
par(mar = c(3, 2.5, 0.5, 0.2), pch = 20, mgp = c(1.5, 0.5, 0))
buffon.needle()

## this will be faster
buffon.needle(redraw = FALSE)

## create an HTML animation page
saveHTML({
    par(mar = c(3, 2.5, 1, 0.2), pch = 20, mgp = c(1.5, 0.5, 0))
    ani.options(nmax = ifelse(interactive(), 300, 10), interval = 0.1)
    buffon.needle(type = "S")
}, img.name = "buffon.needle", htmlfile = "buffon.needle.html", 
    ani.height = 500, ani.width = 600, title = "Simulation of Buffon's Needle", 
    description = c("There are three graphs made in each step: the", 
        "top-left, one is a simulation of the scenario, the top-right one", 
        "is to help us understand the connection between dropping needles", 
        "and the mathematical method to estimate pi, and the bottom one is", 
        "the result for each dropping."))

ani.options(oopt)
</pre>

<hr /><div style="text-align: center;">[Package <em>animation</em> version 2.4 <a href="00Index.html">Index</a>]</div>
</body></html>
