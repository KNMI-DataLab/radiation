<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Package Check Utils</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for isCRANcheck {pkgmaker}"><tr><td>isCRANcheck {pkgmaker}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Package Check Utils</h2>

<h3>Description</h3>

<p><code>isCRANcheck</code> <strong>tries</strong> to identify if one is
running CRAN-like checks.
</p>
<p><code>isCRAN_timing</code> tells if one is running CRAN check
with flag <code>'--timing'</code>.
</p>
<p>Currently, <code>isCHECK</code> checks both CRAN expected
flags, the value of environment variable
<code>_R_CHECK_RUNNING_UTESTS_</code>, and the value of option
<code>R_CHECK_RUNNING_EXAMPLES_</code>. It will return
<code>TRUE</code> if any of these environment variables is set
to anything not equivalent to <code>FALSE</code>, or if the
option is <code>TRUE</code>. For example, the function
<code><a href="utest.html">utest</a></code> sets it to the name of the package
being checked
(<code>_R_CHECK_RUNNING_UTESTS_=&lt;pkgname&gt;</code>), but unit
tests run as part of unit tests vignettes are run with
<code>_R_CHECK_RUNNING_UTESTS_=FALSE</code>, so that all tests
are run and reported when generating them.
</p>


<h3>Usage</h3>

<pre>
  isCRANcheck(...)

  isCRAN_timing()

  isCHECK()
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>...</code></td>
<td>
<p>each argument specifies a set of tests to do
using an AND operator. The final result tests if any of
the test set is true. Possible values are: </p>

<dl>
<dt><code>'timing'</code></dt><dd><p>Check if the environment variable
<code>_R_CHECK_TIMINGS_</code> is set, as with the flag
<code>'--timing'</code> was set.</p>
</dd> <dt><code>'cran'</code></dt><dd><p>Check if
the environment variable <code>_R_CHECK_CRAN_INCOMING_</code>
is set, as with the flag <code>'--as-cran'</code> was set.</p>
</dd> </dl>
</td></tr>
</table>


<h3>Details</h3>

<p>Currently <code>isCRANcheck</code> returns <code>TRUE</code> if the
check is run with either environment variable
<code>_R_CHECK_TIMINGS_</code> (as set by flag
<code>'--timings'</code>) or <code>_R_CHECK_CRAN_INCOMINGS_</code>
(as set by flag <code>'--as-cran'</code>).
</p>
<p><strong>Important:</strong> the checks performed on CRAN check
machines are &ndash; on purpose &ndash; not always run with such
flags, so there is no guarantee this function effectively
identifies such runs. CRAN recommends users rely on
custom dedicated environment variables to enable specific
tests or examples.
</p>


<h3>References</h3>

<p>Adapted from the function <code>CRAN</code> in the <span class="pkg">fda</span>
package.
</p>
<p><a href="https://github.com/renozao/roxygen2">https://github.com/renozao/roxygen2</a>
</p>


<h3>Examples</h3>

<pre>


isCHECK()
</pre>

<hr /><div style="text-align: center;">[Package <em>pkgmaker</em> version 0.22 <a href="00Index.html">Index</a>]</div>
</body></html>
