<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Cross-validation to find the optimum number of features...</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for cv.nfeaturesLDA {animation}"><tr><td>cv.nfeaturesLDA {animation}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Cross-validation to find the optimum number of features (variables) in LDA</h2>

<h3>Description</h3>

<p>This function provids an illustration of the process of finding out the
optimum number of variables using k-fold cross-validation in a linear
discriminant analysis (LDA).
</p>


<h3>Usage</h3>

<pre>
cv.nfeaturesLDA(data = matrix(rnorm(600), 60), cl = gl(3, 20), k = 5, cex.rg = c(0.5, 
    3), col.av = c("blue", "red"), ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>data</code></td>
<td>
<p>a data matrix containg the predictors in columns</p>
</td></tr>
<tr valign="top"><td><code>cl</code></td>
<td>
<p>a factor indicating the classification of the rows of <code>data</code></p>
</td></tr>
<tr valign="top"><td><code>k</code></td>
<td>
<p>the number of folds</p>
</td></tr>
<tr valign="top"><td><code>cex.rg</code></td>
<td>
<p>the range of the magnification to be used to the points in the
plot</p>
</td></tr>
<tr valign="top"><td><code>col.av</code></td>
<td>
<p>the two colors used to respectively denote rates of correct
predictions in the i-th fold and the average rates for all k folds</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>arguments passed to <code><a href="../../graphics/html/points.html">points</a></code> to draw the
points which denote the correct rate</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For a classification problem, usually we wish to use as less variables as
possible because of difficulties brought by the high dimension.
</p>
<p>The selection procedure is like this:
</p>

<ul>
<li><p> Split the whole data randomly into <i>k</i> folds:
</p>

<ul>
<li><p> For the number of features <i>g = 1, 2,
..., gmax</i>, choose <i>g</i> features that have the largest discriminatory
power (measured by the F-statistic in ANOVA):
</p>

<ul>
<li><p> For the fold <i>i</i> (<i>i = 1, 2, ..., k</i>):
</p>

<ul>
<li>
<p>Train a LDA model without the <i>i</i>-th fold data, and predict with the
<i>i</i>-th fold for a proportion of correct predictions
<i>p[gi]</i>;
</p>
</li></ul>

</li></ul>

</li>
<li><p> Average the <i>k</i> proportions to get the correct rate <i>p[g]</i>;
</p>
</li></ul>

</li>
<li><p> Determine the optimum number of features with the largest <i>p</i>.
</p>
</li></ul>

<p>Note that <i>g_{max}</i> is set by <code>ani.options('nmax')</code> (i.e. the
maximum number of features we want to choose).
</p>


<h3>Value</h3>

<p>A list containing </p>
<table summary="R valueblock">
<tr valign="top"><td><code>accuracy </code></td>
<td>
<p>a matrix in which the element in
the i-th row and j-th column is the rate of correct predictions based on
LDA, i.e. build a LDA model with j variables and predict with data in the
i-th fold (the test set) </p>
</td></tr> <tr valign="top"><td><code>optimum </code></td>
<td>
<p>the optimum number of features
based on the cross-validation</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Yihui Xie &lt;<a href="http://yihui.name">http://yihui.name</a>&gt;
</p>


<h3>References</h3>

<p>Maindonald J, Braun J (2007). <em>Data Analysis and Graphics
Using R - An Example-Based Approach</em>. Cambridge University Press, 2nd
edition. pp. 400
</p>


<h3>See Also</h3>

<p><code><a href="kfcv.html">kfcv</a></code>, <code><a href="cv.ani.html">cv.ani</a></code>, <code><a href="../../MASS/html/lda.html">lda</a></code>
</p>


<h3>Examples</h3>

<pre>
oopt = ani.options(nmax = ifelse(interactive(), 10, 2))
par(mar = c(3, 3, 0.2, 0.7), mgp = c(1.5, 0.5, 0))
cv.nfeaturesLDA(pch = 19)

## save the animation in HTML pages
saveHTML({
    ani.options(interval = 0.5, nmax = 10)
    par(mar = c(3, 3, 1, 0.5), mgp = c(1.5, 0.5, 0), 
        tcl = -0.3, pch = 19, cex = 1.5)
    cv.nfeaturesLDA(pch = 19)
}, img.name = "cv.nfeaturesLDA", htmlfile = "cv.nfeaturesLDA.html", 
    ani.height = 480, ani.width = 600, description = c("This animation provides", 
        " an illustration of the process of finding", 
        "out the optimum number of variables using k-fold cross-validation", 
        "in a linear discriminant analysis (LDA)."), 
    title = "Cross-validation to find the optimum number of features in LDA")

ani.options(oopt)
</pre>

<hr /><div style="text-align: center;">[Package <em>animation</em> version 2.4 <a href="00Index.html">Index</a>]</div>
</body></html>
