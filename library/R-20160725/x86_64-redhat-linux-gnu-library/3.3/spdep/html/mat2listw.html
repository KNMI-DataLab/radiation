<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Convert a square spatial weights matrix to a weights list...</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for mat2listw {spdep}"><tr><td>mat2listw {spdep}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Convert a square spatial weights matrix to a weights list object</h2>

<h3>Description</h3>

<p>The function converts a square spatial weights matrix, 
optionally a sparse matrix to a weights list 
object, optionally adding region IDs from the row names of the matrix, as a 
sequence of numbers 1:nrow(x), or as given as an argument. The style can be imposed by rebuilting the weights list object internally.
</p>


<h3>Usage</h3>

<pre>
mat2listw(x, row.names = NULL, style="M")
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>
<p>A square non-negative matrix with no NAs representing spatial 
weights; may be a matrix of class &ldquo;sparseMatrix&rdquo;</p>
</td></tr>
<tr valign="top"><td><code>row.names</code></td>
<td>
<p>row names to use for region IDs</p>
</td></tr>
<tr valign="top"><td><code>style</code></td>
<td>
<p>default &quot;M&quot;, unknown style; if not &quot;M&quot;, passed to <code><a href="nb2listw.html">nb2listw</a></code> to re-build the object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>listw</code> object with the following members:
</p>
<table summary="R valueblock">
<tr valign="top"><td><code>style</code></td>
<td>
<p>&quot;M&quot;, meaning matrix style, underlying style unknown, or assigned style argument in rebuilt object</p>
</td></tr>
<tr valign="top"><td><code>neighbours</code></td>
<td>
<p>the derived neighbours list</p>
</td></tr>
<tr valign="top"><td><code>weights</code></td>
<td>
<p>the weights for the neighbours derived from the matrix</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Roger Bivand <a href="mailto:Roger.Bivand@nhh.no">Roger.Bivand@nhh.no</a></p>


<h3>See Also</h3>

<p><code><a href="nb2listw.html">nb2listw</a></code>, <code><a href="nb2mat.html">nb2mat</a></code></p>


<h3>Examples</h3>

<pre>
example(columbus)
coords &lt;- coordinates(columbus)
col005 &lt;- dnearneigh(coords, 0, 0.5, attr(col.gal.nb, "region.id"))
summary(col005)
col005.w.mat &lt;- nb2mat(col005, zero.policy=TRUE)
col005.w.b &lt;- mat2listw(col005.w.mat)
summary(col005.w.b$neighbours)
diffnb(col005, col005.w.b$neighbours)
col005.w.mat.3T &lt;- kronecker(diag(3), col005.w.mat)
col005.w.b.3T &lt;- mat2listw(col005.w.mat.3T, style="W")
summary(col005.w.b.3T$neighbours)
W &lt;- as(nb2listw(col005, style="W", zero.policy=TRUE), "CsparseMatrix")
col005.spM &lt;- mat2listw(W)
summary(col005.spM$neighbours)
diffnb(col005, col005.spM$neighbours)
IW &lt;- kronecker(Diagonal(3), W)
col005.spM.3T &lt;- mat2listw(IW, style="W")
summary(col005.spM.3T$neighbours)
</pre>

<hr /><div style="text-align: center;">[Package <em>spdep</em> version 0.6-6 <a href="00Index.html">Index</a>]</div>
</body></html>
