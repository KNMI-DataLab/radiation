<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Filter to remove noise in light intensity measurements during...</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for lightFilter {GeoLight}"><tr><td>lightFilter {GeoLight}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Filter to remove noise in light intensity measurements during the night</h2>

<h3>Description</h3>

<p>The filter identifies and removes light intensities oczillating around the
baseline or few light intensities resulting in a short light peak during the
night. Such noise during the night will increase the calculated twilight
events using the function <code><a href="twilightCalc.html">twilightCalc</a></code> and therewith the
manual work to remove these false twilight events.
</p>


<h3>Usage</h3>

<pre>
lightFilter(light, baseline = NULL, iter = 2)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>light</code></td>
<td>
<p><code>numerical</code> value of the light intensity (usually
arbitrary units).</p>
</td></tr>
<tr valign="top"><td><code>baseline</code></td>
<td>
<p>the light intensity baseline (no light). If <code>Default</code>,
it will be calculated as the most frequent value below the mean light
intensities.</p>
</td></tr>
<tr valign="top"><td><code>iter</code></td>
<td>
<p>a <code>numerical</code> value, specifying how many iterations should
be computed (see details).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The filter searches for light levels above the baseline and compares the
prior and posterior levels. If these values are below the threshold the
particular light level will be reduced to the baseline. A few (usually two)
iterations might be enough to remove most noise during the night (however,
not if such noise occurs at the begining or at the end were not enough prior
or posterior values are available).
</p>


<h3>Value</h3>

<p>numerical <code>vector</code> with the new light levels. Same length as
the initial light vector.
</p>


<h3>Author(s)</h3>

<p>Simeon Lisovski
</p>


<h3>Examples</h3>

<pre>
night &lt;- rep(0,50); night[runif(4,0,50)] &lt;- 10; night[runif(4,0,50)] &lt;- -5
nightday &lt;- c(night,rep(30,50))
plot(nightday,type="l",ylim=c(-5,30),ylab="light level",xlab="time (time)")
light2 &lt;- lightFilter(nightday, baseline=0, iter=4)
lines(light2,col="red")
legend("bottomright",c("before","after"),lty=c(1,1),col=c("black","red"),bty="n")
</pre>

<hr /><div style="text-align: center;">[Package <em>GeoLight</em> version 2.0.0 <a href="00Index.html">Index</a>]</div>
</body></html>
