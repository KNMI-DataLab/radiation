<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Subset SoilProfileCollection Objects.</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for subsetProfiles-methods {aqp}"><tr><td>subsetProfiles-methods {aqp}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Subset SoilProfileCollection Objects.</h2>

<h3>Description</h3>

<p>This function is used to subset <code>SoilProfileCollection</code> objects using either site-level or horizon-level attributes, or both.</p>


<h3>Details</h3>

<p>The <code>s</code> argument supplies a fully-quoted search critera for matching via site-level attributes. The <code>h</code> argument supplies a fully-quoted search criteria for matching via horizon-level attributes. All horizons associated with a single horizon-level match (i.e. out of several, only a single horizon matches the search critera) are returned. See examples for usage.</p>


<h3>Value</h3>

<p>A <code>SoilProfileCollection</code> class object.</p>


<h3>Methods</h3>


<dl>
<dt><code>signature(object = "SoilProfileCollection", s = 'character', h = 'character', ...)</code></dt><dd></dd>
</dl>


<h3>See Also</h3>

 <p><code><a href="profileApply-methods.html">profileApply</a>, <a href="SPC-utils.html">site</a>, <a href="SPC-utils.html">horizons</a></code> </p>


<h3>Examples</h3>

<pre>
data(sp1)
depths(sp1) &lt;- id ~ top + bottom
site(sp1) &lt;- ~ group

# save par settings, and setup plot for 3 columns
op &lt;- par(mar=c(1,1,8,1), mfcol=c(1,3))

# subset sp1 via site-level attributes
# note quoting style
plot(group.1 &lt;- subsetProfiles(sp1, s="group == '1'"))

# subset sp1 via horizon-level attributes
# note quoting style
plot(coarse.soils &lt;- subsetProfiles(sp1, h="texture == 'LS'"))

# re-combine subsets, note that duplicates are removed
g &lt;- rbind(group.1, coarse.soils)
plot(g)

# reset plot area
par(op)


# subset sp1 via horizon and site-level attributes
plot(tiny.set &lt;- subsetProfiles(sp1, s="group == 2", h='prop &lt; 8'))


## other ways to subset SoilProfileCollection objects, via index
# more interesting sample data
data(sp2)
depths(sp2) &lt;- id ~ top + bottom
site(sp2) &lt;- ~ surface

# subset by integer index, note that this does not re-order the profiles
plot(sp2[1:5, ])

# generate an integer index via pattern-matching
idx &lt;- grep('modesto', sp2$surface, ignore.case=TRUE)
plot(sp2[idx, ])

# generate in index via profileApply:
# subset those profiles where: min(ph) &lt; 5.6
idx &lt;- which(profileApply(sp2, function(i) min(i$field_ph, na.rm=TRUE) &lt; 5.6))
plot(sp2[idx, ])
</pre>

<hr /><div style="text-align: center;">[Package <em>aqp</em> version 1.9.3 <a href="00Index.html">Index</a>]</div>
</body></html>
