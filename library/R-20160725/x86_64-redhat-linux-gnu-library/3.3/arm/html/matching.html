<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Single Nearest Neighborhood Matching</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for matching {arm}"><tr><td>matching {arm}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Single Nearest Neighborhood Matching</h2>

<h3>Description</h3>

<p>Function for processing matching with propensity score 
</p>


<h3>Usage</h3>

<pre>
matching(z, score, replace=FALSE)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>z</code></td>
<td>
<p>vector of indicators for treatment or control.</p>
</td></tr>
<tr valign="top"><td><code>score</code></td>
<td>
<p>vector of the propensity scores in the same order as z.</p>
</td></tr>
<tr valign="top"><td><code>replace</code></td>
<td>
<p>whether the control units could be reused for matching, 
default is <code>FALSE</code>.</p>
</td></tr> 
</table>


<h3>Details</h3>

<p>Function for matching each treatment unit in turn 
the control unit (not previously chosen) with the 
closest propensity score </p>


<h3>Value</h3>

<p>The function returns a vector of indices that the corresponding 
unit is matched to. 0 means matched to nothing.</p>


<h3>Author(s)</h3>

<p>Jeniffer Hill <a href="mailto:jh1030@columbia.edu">jh1030@columbia.edu</a>;
Yu-Sung Su <a href="mailto:suyusung@tsinghua.edu.cn">suyusung@tsinghua.edu.cn</a>
</p>


<h3>References</h3>

<p>Andrew Gelman and Jennifer Hill. (2006).
<em>Data Analysis Using Regression and Multilevel/Hierarchical Models</em>.
Cambridge University Press.</p>


<h3>See Also</h3>

<p><code><a href="balance.html">balance</a></code>
</p>


<h3>Examples</h3>

<pre>
# matching first
data(lalonde)
attach(lalonde)
fit &lt;- glm(treat ~ re74 + re75 + age + factor(educ) + 
            black + hisp + married + nodegr + u74 + u75, 
            family=binomial(link="logit"))
pscores &lt;- predict(fit, type="response")
matches &lt;- matching(z=lalonde$treat, score=pscores)
matched &lt;- lalonde[matches$matched,]

# balance check!
b.stats &lt;- balance(lalonde, matched, fit)
print(b.stats)
plot(b.stats)
</pre>

<hr /><div style="text-align: center;">[Package <em>arm</em> version 1.9-1 <a href="00Index.html">Index</a>]</div>
</body></html>
