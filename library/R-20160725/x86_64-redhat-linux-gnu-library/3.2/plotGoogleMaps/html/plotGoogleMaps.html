<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Create a plot of spatial data on Google Maps</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for plotGoogleMaps {plotGoogleMaps}"><tr><td>plotGoogleMaps {plotGoogleMaps}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Create a plot of spatial data on Google Maps</h2>

<h3>Description</h3>

<p>Plot htm output with Google Maps API and a plot of spatial
data as a combination of users' data and Google Maps layers. Ready to use as local htm file or into your own website.</p>


<h3>Usage</h3>

<pre>
plotGoogleMaps(SP, 
              filename = '',
              zcol = 1,
              at=NULL,
              add = FALSE, 
              previousMap = NULL,
              colPalette = NULL,
              strokeColor = "",
              strokeOpacity = 1,
              fillOpacity=0.7,
              strokeWeight = 1,
              geodesic = TRUE, 
              clickable = TRUE,
              draggableMarker = FALSE,
              iconMarker='',
              flat = TRUE, 
              visible = TRUE, 
              zIndex = 'null',
              map.width="100%",
              map.height="100%",
              layerName="",
              control.width="100%",
              control.height="100%",
              zoom = 15, 
              fitBounds = TRUE,
              mapTypeId = 'HYBRID', 
              disableDoubleClickZoom = FALSE, 
              draggable = TRUE, 
              keyboardShortcuts = TRUE, 
              mapTypeControlOptions = 'DEFAULT',
              navigationControl = TRUE,
              navigationControlOptions = 'DEFAULT', 
              scaleControlOptions = 'STANDARD',
              noClear = FALSE,
              scrollwheel = TRUE, 
              streetViewControl = FALSE,
              legend=TRUE,
              control=TRUE,
              InfoWindowControl=list(map=map, event="click",position="event.latLng",
                                                   disableAutoPan=FALSE, maxWidth=330,
                                                   pixelOffset="null",zIndex="null") ,
              map="map",
              mapCanvas="map_canvas",
              css = "",                                     
              api="https://maps.google.com/maps/api/js?sensor=false&amp;v=3.18",
              openMap=TRUE) </pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>SP</code></td>
<td>
<p>object of <a href="../../sp/html/Spatial-class.html">Spatial-class</a> with
associated coordinate reference systems</p>
</td></tr>
<tr valign="top"><td><code>filename</code></td>
<td>
<p>the name of the output htm or html file. If filename is not defined
the function creates temporary file.</p>
</td></tr>
<tr valign="top"><td><code>zcol</code></td>
<td>
<p>variable column name, or column number after removing spatial coordinates 
from x@data: 1 refers to the first non-coordinate column</p>
</td></tr>
<tr valign="top"><td><code>at</code></td>
<td>
<p>values at which colours will change</p>
</td></tr>
<tr valign="top"><td><code>add</code></td>
<td>
<p>logical; if TRUE the result of the function will be a list stored as variable 
in the R. It is possible to combine more layers in the one plot, previously saved
output from plotGoogleMaps should be given in the previousMap attribute.</p>
</td></tr>
<tr valign="top"><td><code>previousMap</code></td>
<td>
<p>previously saved variable from plotGoogleMaps or bubbleGoogleMaps when attribute add is TRUE.
It is solution for combining more than one layers in the one plot.</p>
</td></tr>
<tr valign="top"><td><code>colPalette</code></td>
<td>
<p>colours to be used to fill polygon or colour for the line</p>
</td></tr>
<tr valign="top"><td><code>strokeColor</code></td>
<td>
<p>the color to draw the borders of polygon, NULL for no border</p>
</td></tr>
<tr valign="top"><td><code>strokeOpacity</code></td>
<td>
<p>the stroke opacity between 0.0 and 1.0 for the polygon or line</p>
</td></tr>
<tr valign="top"><td><code>fillOpacity</code></td>
<td>
<p>the fill opacity (polygons) between 0.0 and 1.0</p>
</td></tr>
<tr valign="top"><td><code>strokeWeight</code></td>
<td>
<p>the stroke width in pixels for polygon border or line</p>
</td></tr>
<tr valign="top"><td><code>geodesic</code></td>
<td>
<p>render each edge as a geodesic (a segment of a 'great circle')</p>
</td></tr>
<tr valign="top"><td><code>clickable</code></td>
<td>
<p>indicates whether this marker (point), polygon or line handles click events</p>
</td></tr>
<tr valign="top"><td><code>draggableMarker</code></td>
<td>
<p>if TRUE, the marker can be dragged</p>
</td></tr>
<tr valign="top"><td><code>iconMarker</code></td>
<td>
<p>if &rdquo; default marker icon, link to the image or local image to be used as marker image</p>
</td></tr>
<tr valign="top"><td><code>flat</code></td>
<td>
<p>if TRUE, the marker shadow will not be displayed</p>
</td></tr>
<tr valign="top"><td><code>visible</code></td>
<td>
<p>if TRUE, the marker is visible</p>
</td></tr>
<tr valign="top"><td><code>zIndex</code></td>
<td>
<p>the zIndex compared to other polygons</p>
</td></tr>
<tr valign="top"><td><code>map.width</code></td>
<td>
<p>the width of the map. Can be in percent or in pixels (px)</p>
</td></tr>
<tr valign="top"><td><code>map.height</code></td>
<td>
<p>the height of the map. Can be in percent or in pixels (px)</p>
</td></tr>
<tr valign="top"><td><code>layerName</code></td>
<td>
<p>the name of the layer. Layer name appears on the check box for
switching layer of and on in output htm.</p>
</td></tr>
<tr valign="top"><td><code>control.width</code></td>
<td>
<p>the width of the part of htm for controlling layer  (legend, opacity,...)
Can be in percent or in pixels (px).</p>
</td></tr>
<tr valign="top"><td><code>control.height</code></td>
<td>
<p>the height of the part of htm for controlling layer  (legend, opacity,...)
Can be in percent or in pixels (px).</p>
</td></tr>
<tr valign="top"><td><code>zoom</code></td>
<td>
<p>the initial Map zoom level.Zoom levels between 0 (the lowest zoom level,
in which the entire world can be seen on one map)
to 19 (the highest zoom level, down to individual buildings) are 
possible within the normal maps view. Argument fitBounds should be FALSE.</p>
</td></tr>
<tr valign="top"><td><code>fitBounds</code></td>
<td>
<p>sets the maps to fit to the boundary box values of sp object</p>
</td></tr>
<tr valign="top"><td><code>mapTypeId</code></td>
<td>
<p>the initial Map mapTypeId. 
'HYBRID' - map type displays a transparent layer of major streets on satellite images. 
'ROADMAP' - map type displays a normal street map. 'SATELLITE' - map type displays satellite images. 
'TERRAIN' - map type displays maps with physical features such as terrain and vegetation.</p>
</td></tr>
<tr valign="top"><td><code>disableDoubleClickZoom</code></td>
<td>
<p>enables or disables zoom and center on double click.</p>
</td></tr>
<tr valign="top"><td><code>draggable</code></td>
<td>
<p>if FALSE, prevents the map from being dragged</p>
</td></tr>
<tr valign="top"><td><code>keyboardShortcuts</code></td>
<td>
<p>if FALSE, prevents the map from being controlled by the keyboard.</p>
</td></tr>
<tr valign="top"><td><code>mapTypeControlOptions</code></td>
<td>
<p>the initial display options for the Map type control.
'DEFAULT' - uses the default map type control. 'DROPDOWN_MENU' - 
a dropdown menu for the screen realestate conscious. 
'HORIZONTAL_BAR' - the standard horizontal radio buttons bar.</p>
</td></tr>
<tr valign="top"><td><code>navigationControl</code></td>
<td>
<p>enabled or disabled state of the navigation control</p>
</td></tr>
<tr valign="top"><td><code>navigationControlOptions</code></td>
<td>
<p>the initial display options for the navigation control. 
'ANDROID' -	the small zoom control similar to the one used by the native Maps application on Android.
'DEFAULT' -	the default navigation control. The control which DEFAULT maps to will vary according to map size and other factors. It may change in future versions of the API.
'SMALL' -	the small, zoom only control.
'ZOOM_PAN' -	the larger control, with the zoom slider and pan directional pad.</p>
</td></tr>
<tr valign="top"><td><code>scaleControlOptions</code></td>
<td>
<p>the initial display options for the scale control.</p>
</td></tr>
<tr valign="top"><td><code>noClear</code></td>
<td>
<p>if TRUE, do not clear the contents of the Map div.</p>
</td></tr>
<tr valign="top"><td><code>scrollwheel</code></td>
<td>
<p>if FALSE, disables scrollwheel zooming on the map.</p>
</td></tr>
<tr valign="top"><td><code>streetViewControl</code></td>
<td>
<p>The initial enabled or disabled state of the Street View pegman control</p>
</td></tr>
<tr valign="top"><td><code>legend</code></td>
<td>
<p>if FALSE, disables legend.</p>
</td></tr>
<tr valign="top"><td><code>control</code></td>
<td>
<p>if FALSE, disables control.</p>
</td></tr>
<tr valign="top"><td><code>InfoWindowControl</code></td>
<td>
<p>see <a href="https://developers.google.com/maps/documentation/javascript/reference#InfoWindowOptions">https://developers.google.com/maps/documentation/javascript/reference#InfoWindowOptions</a></p>
</td></tr>
<tr valign="top"><td><code>map</code></td>
<td>
<p>name of map object in JavaScript</p>
</td></tr>
<tr valign="top"><td><code>mapCanvas</code></td>
<td>
<p>name of map DIV element</p>
</td></tr>
<tr valign="top"><td><code>css</code></td>
<td>
<p>CSS for mapCanvas and cBoxes</p>
</td></tr>
<tr valign="top"><td><code>api</code></td>
<td>
<p>see <a href="https://developers.google.com/maps/documentation/javascript/tutorial">https://developers.google.com/maps/documentation/javascript/tutorial</a></p>
</td></tr>
<tr valign="top"><td><code>openMap</code></td>
<td>
<p>if TRUE map is browesed by default browser</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function returns a list with HTML, JavaScript, Google Maps API key and
else what is necessary for the final web map. The second output is html file ready to use.</p>


<h3>Author(s)</h3>

<p>Milan Kilibarda &lt;kili@grf.bg.ac.rs&gt;</p>


<h3>See Also</h3>

<p><a href="bubbleGoogleMaps.html">bubbleGoogleMaps</a>,
<a href="ellipseGoogleMaps.html">ellipseGoogleMaps</a>,
<a href="segmentGoogleMaps.html">segmentGoogleMaps</a>
</p>


<h3>Examples</h3>

<pre>
# Data preparation
# Point data
data(meuse)
require(maptools)
coordinates(meuse)&lt;-~x+y
proj4string(meuse) &lt;- CRS('+init=epsg:28992')
# Line data
data(meuse.grid)
coordinates(meuse.grid)&lt;-c('x','y')
meuse.grid&lt;-as(meuse.grid,'SpatialPixelsDataFrame')
im&lt;-as.image.SpatialGridDataFrame(meuse.grid['dist'])
cl&lt;-ContourLines2SLDF(contourLines(im))
proj4string(cl) &lt;- CRS('+init=epsg:28992')

# Create web map of Point data
m&lt;-plotGoogleMaps(meuse) 

# Combine point and line data
mapMeusePoints&lt;- plotGoogleMaps(meuse,add=TRUE,mapTypeId='TERRAIN',filename='myMap2.htm')
mapMeuseCl&lt;- plotGoogleMaps(cl,previousMap=mapMeusePoints,filename='myMap2.htm')
# see results in your working directory
</pre>

<hr /><div style="text-align: center;">[Package <em>plotGoogleMaps</em> version 2.2 <a href="00Index.html">Index</a>]</div>
</body></html>
