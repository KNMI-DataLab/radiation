<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Demonstrate the least squares method</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for least.squares {animation}"><tr><td>least.squares {animation}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Demonstrate the least squares method</h2>

<h3>Description</h3>

<p>This is a simple demonstration of the meaning of least squares in univariate
linear regression.
</p>


<h3>Usage</h3>

<pre>
least.squares(x, y, n = 15, ani.type = c("slope", "intercept"), a, b, a.range, b.range, 
    ab.col = c("gray", "black"), est.pch = 19, v.col = "red", v.lty = 2, rss.pch = 19, 
    rss.type = "o", mfrow = c(1, 2), ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>
<p>a numeric vector: the independent variable</p>
</td></tr>
<tr valign="top"><td><code>y</code></td>
<td>
<p>a numeric vector: the dependent variable</p>
</td></tr>
<tr valign="top"><td><code>n</code></td>
<td>
<p>the sample size: when x and y are missing, we use simulated values
of y (<code>x = 1:n</code> and <code>y = a + b * x + rnorm(n)</code>)</p>
</td></tr>
<tr valign="top"><td><code>ani.type</code></td>
<td>
<p><code>'slope'</code>: the slope is changing with the intercept
fixed; <code>'intercept'</code>: intercept changing and slope fixed</p>
</td></tr>
<tr valign="top"><td><code>a, b</code></td>
<td>
<p>the fixed intercept and slope; depending on <code>ani.type</code>, we
only need to specify one of them; e.g. when <code>ani.type == 'slope'</code>, we
need to specify the value of <code>a</code></p>
</td></tr>
<tr valign="top"><td><code>a.range, b.range</code></td>
<td>
<p>a vector of length 2 to define the range of the
intercept and the slope; only one of them need to be specified; see above</p>
</td></tr>
<tr valign="top"><td><code>ab.col</code></td>
<td>
<p>the colors of two lines: the real regression line and the
moving line with either intercept or slope changing</p>
</td></tr>
<tr valign="top"><td><code>est.pch</code></td>
<td>
<p>the point character of the 'estimated' values given <code>x</code></p>
</td></tr>
<tr valign="top"><td><code>v.col, v.lty</code></td>
<td>
<p>the color and line type of the vetical lines which
demonstrate the residuals</p>
</td></tr>
<tr valign="top"><td><code>rss.pch, rss.type</code></td>
<td>
<p>the point character and plot type of the residual
plot</p>
</td></tr>
<tr valign="top"><td><code>mfrow</code></td>
<td>
<p>defines the layout of the graph; see <code><a href="../../graphics/html/par.html">par</a></code></p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>other parameters passed to <code><a href="../../graphics/html/plot.html">plot</a></code> to define the
appearance of the scatterplot</p>
</td></tr>
</table>


<h3>Details</h3>

<p>With either the intercept or the slope changing, the lines will be moving in
the graph and corresponding residuals will be plotted. We can finally see the
best estimate of the intercept and the slope from the residual plot.
</p>


<h3>Value</h3>

<p>The value returned depends on the animation type.
</p>
<p>If it is a slope animation, the value will be a list containing
</p>
<table summary="R valueblock">
<tr valign="top"><td><code>lmfit</code></td>
<td>
<p> the estimates of the intercept and slope with
<code><a href="../../stats/html/lm.html">lm</a></code> </p>
</td></tr> <tr valign="top"><td><code>anifit</code></td>
<td>
<p> the estimate of the slope in the
animation </p>
</td></tr></table>
<p> If it is an intercept animation, the second component of the
above list will be the estimate of the intercept.
</p>
<p>Note the estimate will not be precise generally.
</p>


<h3>Note</h3>

<p><code>ani.options('nmax')</code> specifies the maximum number of steps for
the slope or intercept to move.
</p>


<h3>Author(s)</h3>

<p>Yihui Xie
</p>


<h3>See Also</h3>

<p><code><a href="../../stats/html/lm.html">lm</a></code>
</p>


<h3>Examples</h3>

<pre>
par(mar = c(5, 4, 0.5, 0.1))
oopt = ani.options(interval = 0.3, nmax = ifelse(interactive(), 
    50, 2))

## default animation: with slope changing
least.squares()

## intercept changing
least.squares(ani.type = "intercept")

## save the animation in HTML pages
saveHTML({
    ani.options(interval = 0.3, nmax = ifelse(interactive(), 50, 
        2))
    par(mar = c(4, 4, 0.5, 0.1), mgp = c(2, 0.5, 0), tcl = -0.3)
    least.squares()
}, img.name = "least.squares", htmlfile = "least.squares.html", 
    ani.height = 450, ani.width = 600, title = "Demonstration of Least Squares", 
    description = c("We want to find an estimate for the slope", 
        "in 50 candidate slopes, so we just compute the RSS one by one. "))

ani.options(oopt)
</pre>

<hr /><div style="text-align: center;">[Package <em>animation</em> version 2.4 <a href="00Index.html">Index</a>]</div>
</body></html>
