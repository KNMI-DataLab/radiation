<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Demonstration of the k-Means clustering algorithm</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for kmeans.ani {animation}"><tr><td>kmeans.ani {animation}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Demonstration of the k-Means clustering algorithm</h2>

<h3>Description</h3>

<p>This function provides a demo of the k-Means cluster algorithm for data
containing only two variables (columns).
</p>


<h3>Usage</h3>

<pre>
kmeans.ani(x = cbind(X1 = runif(50), X2 = runif(50)), centers = 3, 
    hints = c("Move centers!", "Find cluster?"), pch = 1:3, col = 1:3)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>
<p>A numercal matrix or an object that can be coerced to such a matrix
(such as a numeric vector or a data frame with all numeric columns)
containing <em>only</em> 2 columns.</p>
</td></tr>
<tr valign="top"><td><code>centers</code></td>
<td>
<p>Either the number of clusters or a set of initial (distinct)
cluster centres.  If a number, a random set of (distinct) rows in <code>x</code>
is chosen as the initial centres.</p>
</td></tr>
<tr valign="top"><td><code>hints</code></td>
<td>
<p>Two text strings indicating the steps of k-means clustering:
move the center or find the cluster membership?</p>
</td></tr>
<tr valign="top"><td><code>pch, col</code></td>
<td>
<p>Symbols and colors for different clusters; the length of these
two arguments should be equal to the number of clusters, or they will be
recycled.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The k-Means cluster algorithm may be regarded as a series of iterations of:
finding cluster centers, computing distances between sample points, and
redefining cluster membership.
</p>
<p>The data given by <code>x</code> is clustered by the <i>k</i>-means method, which
aims to partition the points into <i>k</i> groups such that the sum of squares
from points to the assigned cluster centers is minimized. At the minimum, all
cluster centres are at the mean of their Voronoi sets (the set of data points
which are nearest to the cluster centre).
</p>


<h3>Value</h3>

<p>A list with components </p>
<table summary="R valueblock">
<tr valign="top"><td><code>cluster </code></td>
<td>
<p>A vector of integers
indicating the cluster to which each point is allocated.</p>
</td></tr> <tr valign="top"><td><code>centers </code></td>
<td>
<p>A
matrix of cluster centers.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>This function is only for demonstration purpose. For practical
applications please refer to <code><a href="../../stats/html/kmeans.html">kmeans</a></code>.
</p>
<p>Note that <code>ani.options('nmax')</code> is defined as the maximum number of
iterations in such a sense: an iteration includes the process of computing
distances, redefining membership and finding centers. Thus there should be
<code>2 * ani.options('nmax')</code> animation frames in the output if the other
condition for stopping the iteration has not yet been met (i.e. the cluster
membership will not change any longer).
</p>


<h3>Author(s)</h3>

<p>Yihui Xie
</p>


<h3>See Also</h3>

<p><code><a href="../../stats/html/kmeans.html">kmeans</a></code>
</p>


<h3>Examples</h3>

<pre>
## set larger 'interval' if the speed is too fast
oopt = ani.options(interval = 2)
par(mar = c(3, 3, 1, 1.5), mgp = c(1.5, 0.5, 0))
kmeans.ani()

## the kmeans() example; very fast to converge!
x = rbind(matrix(rnorm(100, sd = 0.3), ncol = 2), matrix(rnorm(100, mean = 1, 
    sd = 0.3), ncol = 2))
colnames(x) = c("x", "y")
kmeans.ani(x, centers = 2)

## what if we cluster them into 3 groups?
kmeans.ani(x, centers = 3)

## create an HTML animation page
saveHTML({
    ani.options(interval = 2)
    par(mar = c(3, 3, 1, 1.5), mgp = c(1.5, 0.5, 0))
    
    cent = 1.5 * c(1, 1, -1, -1, 1, -1, 1, -1)
    x = NULL
    for (i in 1:8) x = c(x, rnorm(25, mean = cent[i]))
    x = matrix(x, ncol = 2)
    colnames(x) = c("X1", "X2")
    
    kmeans.ani(x, centers = 4, pch = 1:4, col = 1:4)
    
}, img.name = "kmeans.ani", htmlfile = "kmeans.ani.html", ani.height = 480, 
    ani.width = 480, title = "Demonstration of the K-means Cluster Algorithm", 
    description = "Move! Average! Cluster! Move! Average! Cluster! ...")

ani.options(oopt)
</pre>

<hr /><div style="text-align: center;">[Package <em>animation</em> version 2.4 <a href="00Index.html">Index</a>]</div>
</body></html>
