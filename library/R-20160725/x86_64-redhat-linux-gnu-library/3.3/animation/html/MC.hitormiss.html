<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Hit or Miss Monte Carlo integration</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for MC.hitormiss {animation}"><tr><td>MC.hitormiss {animation}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Hit or Miss Monte Carlo integration</h2>

<h3>Description</h3>

<p>Integrate a function using the Hit-or-Miss Monte Carlo algorithm.
</p>


<h3>Usage</h3>

<pre>
MC.hitormiss(FUN = function(x) x - x^2, n = ani.options("nmax"), from = 0, to = 1, 
    col.points = c("black", "red"), pch.points = c(20, 4), ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>FUN</code></td>
<td>
<p>the function to be integrated</p>
</td></tr>
<tr valign="top"><td><code>n</code></td>
<td>
<p>number of points to be sampled from the Uniform(0, 1) distribution</p>
</td></tr>
<tr valign="top"><td><code>from, to</code></td>
<td>
<p>the limits of integration</p>
</td></tr>
<tr valign="top"><td><code>col.points, pch.points</code></td>
<td>
<p>colors and point characters for points which
&ldquo;hit&rdquo; or &ldquo;miss&rdquo; the area under the curve</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>other arguments passed to <code><a href="../../graphics/html/points.html">points</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>We compute the proportion of points hitting the area under the curve, and the
integral can be estimated by the proportion multiplied by the total area of
the rectangle (from xmin to xmax, ymin to ymax).
</p>


<h3>Value</h3>

<p>A list containing </p>
<table summary="R valueblock">
<tr valign="top"><td><code>x1</code></td>
<td>
<p> the Uniform random numbers generated on
x-axis</p>
</td></tr> <tr valign="top"><td><code>x2</code></td>
<td>
<p> the Uniform random numbers generated on y-axis</p>
</td></tr>
<tr valign="top"><td><code>y</code></td>
<td>
<p> function values evaluated at <code>x1</code> </p>
</td></tr> <tr valign="top"><td><code>n</code></td>
<td>
<p> number of
points drawn from the Uniform distribtion </p>
</td></tr> <tr valign="top"><td><code>est</code></td>
<td>
<p> the estimated value
of the integral </p>
</td></tr>
</table>


<h3>Note</h3>

<p>This function is for demonstration purpose only; the integral might be
very inaccurate when <code>n</code> is small.
</p>
<p><code>ani.options('nmax')</code> specifies the maximum number of trials.
</p>


<h3>Author(s)</h3>

<p>Yihui Xie
</p>


<h3>See Also</h3>

<p><code><a href="../../stats/html/integrate.html">integrate</a></code>, <code><a href="MC.samplemean.html">MC.samplemean</a></code>
</p>


<h3>Examples</h3>

<pre>
oopt = ani.options(interval = 0.2, nmax = ifelse(interactive(), 
    100, 2))

## should be close to 1/6
MC.hitormiss()$est

## should be close to 1/12
MC.hitormiss(from = 0.5, to = 1)$est

## HTML animation page
saveHTML({
    ani.options(interval = 0.5, nmax = ifelse(interactive(), 100, 
        2))
    MC.hitormiss()
}, img.name = "MC.hitormiss", htmlfile = "MC.hitormiss.html", 
    title = "Hit or Miss Monte Carlo Integration", description = c("", 
        "Generate Uniform random numbers", "and compute the proportion", 
        "of points under the curve."))

ani.options(oopt)
</pre>

<hr /><div style="text-align: center;">[Package <em>animation</em> version 2.4 <a href="00Index.html">Index</a>]</div>
</body></html>
