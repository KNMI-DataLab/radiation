<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: gSocketClose</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for gSocketClose {RGtk2}"><tr><td>gSocketClose {RGtk2}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>gSocketClose</h2>

<h3>Description</h3>

<p>Closes the socket, shutting down any active connection.</p>


<h3>Usage</h3>

<pre>gSocketClose(object, .errwarn = TRUE)</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code><code style="white-space: pre;">object</code></code></td>
<td>
<p>a <code><a href="GSocket.html">GSocket</a></code></p>
</td></tr>
<tr valign="top"><td><code>.errwarn</code></td>
<td>
<p>Whether to issue a warning on error or fail silently</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Closing a socket does not wait for all outstanding I/O operations
to finish, so the caller should not rely on them to be guaranteed
to complete even if the close returns with no error.
</p>
<p>Once the socket is closed, all other operations will return
<code>G_IO_ERROR_CLOSED</code>. Closing a socket multiple times will not
return an error.
</p>
<p>Sockets will be automatically closed when the last reference
is dropped, but you might want to call this function to make sure
resources are released as early as possible.
</p>
<p>Beware that due to the way that TCP works, it is possible for
recently-sent data to be lost if either you close a socket while the
<code>G_IO_IN</code> condition is set, or else if the remote connection tries to
send something to you after you close the socket but before it has
finished reading all of the data you sent. There is no easy generic
way to avoid this problem; the easiest fix is to design the network
protocol such that the client will never send data &quot;out of turn&quot;.
Another solution is for the server to half-close the connection by
calling <code><a href="gSocketShutdown.html">gSocketShutdown</a></code> with only the <code>shutdown.write</code> flag set,
and then wait for the client to notice this and close its side of the
connection, after which the server can safely call <code><a href="gSocketClose.html">gSocketClose</a></code>.
(This is what <code><a href="GSocketConnection.html">GTcpConnection</a></code> does if you call
<code><a href="gTcpConnectionSetGracefulDisconnect.html">gTcpConnectionSetGracefulDisconnect</a></code>. But of course, this
only works if the client will close its connection after the server
does.)
Since 2.22</p>


<h3>Value</h3>

<p>A list containing the following elements:
</p>
<table summary="R valueblock">
<tr valign="top"><td><code>retval</code></td>
<td>
<p>[logical] <code>TRUE</code> on success, <code>FALSE</code> on error</p>
</td></tr>
<tr valign="top"><td><code><code style="white-space: pre;">error</code></code></td>
<td>
<p><code><a href="GError.html">GError</a></code> for error reporting, or <code>NULL</code> to ignore.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Derived by RGtkGen from GTK+ documentation</p>

<hr /><div style="text-align: center;">[Package <em>RGtk2</em> version 2.20.31 <a href="00Index.html">Index</a>]</div>
</body></html>
