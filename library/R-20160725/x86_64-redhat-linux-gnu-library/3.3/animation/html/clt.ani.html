<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Demonstration of the Central Limit Theorem</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for clt.ani {animation}"><tr><td>clt.ani {animation}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Demonstration of the Central Limit Theorem</h2>

<h3>Description</h3>

<p>First of all, a number of <code>obs</code> observations are generated from a
certain distribution for each variable <i>X_j</i>, <i>j
= 1, 2, ..., n</i>, and <i>n = 1, 2, ..., nmax</i>, then
the sample means are computed, and at last the density of these sample means
is plotted as the sample size <i>n</i> increases (the theoretical limiting
distribution is denoted by the dashed line), besides, the P-values from the
normality test <code><a href="../../stats/html/shapiro.test.html">shapiro.test</a></code> are computed for each <i>n</i> and
plotted at the same time.
</p>


<h3>Usage</h3>

<pre>
clt.ani(obs = 300, FUN = rexp, mean = 1, sd = 1, col = c("bisque", "red", "blue", 
    "black"), mat = matrix(1:2, 2), widths = rep(1, ncol(mat)), heights = rep(1, 
    nrow(mat)), xlim, ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>obs</code></td>
<td>
<p>the number of sample means to be generated from the distribution
based on a given sample size <i>n</i>; these sample mean values will be used
to create the histogram</p>
</td></tr>
<tr valign="top"><td><code>FUN</code></td>
<td>
<p>the function to generate <code>n</code> random numbers from a certain
distribution</p>
</td></tr>
<tr valign="top"><td><code>mean, sd</code></td>
<td>
<p>the expectation and standard deviation of the population
distribution (they will be used to plot the density curve of the
theoretical Normal distribution with mean equal to <code>mean</code> and sd equal
to <i>sd/&radic;{n}</i>; if any of them is <code>NA</code>, the density curve will
be suppressed)</p>
</td></tr>
<tr valign="top"><td><code>col</code></td>
<td>
<p>a vector of length 4 specifying the colors of the histogram, the
density curve of the sample mean, the theoretical density cuve and
P-values.</p>
</td></tr>
<tr valign="top"><td><code>mat, widths, heights</code></td>
<td>
<p>arguments passed to <code><a href="../../graphics/html/layout.html">layout</a></code> to set the
layout of the two graphs.</p>
</td></tr>
<tr valign="top"><td><code>xlim</code></td>
<td>
<p>the x-axis limit for the histogram (it has a default value if not
specified)</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>other arguments passed to <code><a href="../../graphics/html/plot.default.html">plot.default</a></code> to plot the
P-values</p>
</td></tr>
</table>


<h3>Details</h3>

<p>As long as the conditions of the Central Limit Theorem (CLT) are satisfied,
the distribution of the sample mean will be approximate to the Normal
distribution when the sample size <code>n</code> is large enough, no matter what is
the original distribution. The largest sample size is defined by <code>nmax</code>
in <code><a href="ani.options.html">ani.options</a></code>.
</p>


<h3>Value</h3>

<p>A data frame of P-values.
</p>


<h3>Author(s)</h3>

<p>Yihui Xie
</p>


<h3>References</h3>

<p><a href="http://vis.supstat.com/2013/04/central-limit-theorem">http://vis.supstat.com/2013/04/central-limit-theorem</a>
</p>


<h3>See Also</h3>

<p><code><a href="../../graphics/html/hist.html">hist</a></code>, <code><a href="../../stats/html/density.html">density</a></code>
</p>


<h3>Examples</h3>

<pre>
oopt = ani.options(interval = 0.1, nmax = ifelse(interactive(), 150, 2))
op = par(mar = c(3, 3, 1, 0.5), mgp = c(1.5, 0.5, 0), tcl = -0.3)
clt.ani(type = "s")
par(op)

## HTML animation page
saveHTML({
    par(mar = c(3, 3, 1, 0.5), mgp = c(1.5, 0.5, 0), tcl = -0.3)
    ani.options(interval = 0.1, nmax = ifelse(interactive(), 150, 10))
    clt.ani(type = "h")
}, img.name = "clt.ani", htmlfile = "clt.ani.html", ani.height = 500, 
    ani.width = 600, title = "Demonstration of the Central Limit Theorem", 
    description = c("This animation shows the distribution of the sample", 
        "mean as the sample size grows."))

## other distributions: Chi-square with df = 5 (mean = df, var = 2*df)
f = function(n) rchisq(n, 5)
clt.ani(FUN = f, mean = 5, sd = sqrt(2 * 5))

ani.options(oopt)

</pre>

<hr /><div style="text-align: center;">[Package <em>animation</em> version 2.4 <a href="00Index.html">Index</a>]</div>
</body></html>
