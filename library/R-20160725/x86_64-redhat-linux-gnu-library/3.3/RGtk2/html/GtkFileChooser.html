<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: GtkFileChooser</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for GtkFileChooser {RGtk2}"><tr><td>GtkFileChooser {RGtk2}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>GtkFileChooser</h2>

<h3>Description</h3>

<p>File chooser interface used by GtkFileChooserWidget and GtkFileChooserDialog</p>


<h3>Methods and Functions</h3>

<p><code><a href="gtkFileChooserSetAction.html">gtkFileChooserSetAction</a>(object, action)</code><br />
<code><a href="gtkFileChooserGetAction.html">gtkFileChooserGetAction</a>(object)</code><br />
<code><a href="gtkFileChooserSetLocalOnly.html">gtkFileChooserSetLocalOnly</a>(object, local.only)</code><br />
<code><a href="gtkFileChooserGetLocalOnly.html">gtkFileChooserGetLocalOnly</a>(object)</code><br />
<code><a href="gtkFileChooserSetSelectMultiple.html">gtkFileChooserSetSelectMultiple</a>(object, select.multiple)</code><br />
<code><a href="gtkFileChooserGetSelectMultiple.html">gtkFileChooserGetSelectMultiple</a>(object)</code><br />
<code><a href="gtkFileChooserSetShowHidden.html">gtkFileChooserSetShowHidden</a>(object, show.hidden)</code><br />
<code><a href="gtkFileChooserGetShowHidden.html">gtkFileChooserGetShowHidden</a>(object)</code><br />
<code><a href="gtkFileChooserSetDoOverwriteConfirmation.html">gtkFileChooserSetDoOverwriteConfirmation</a>(object, do.overwrite.confirmation)</code><br />
<code><a href="gtkFileChooserGetDoOverwriteConfirmation.html">gtkFileChooserGetDoOverwriteConfirmation</a>(object)</code><br />
<code><a href="gtkFileChooserSetCreateFolders.html">gtkFileChooserSetCreateFolders</a>(object, create.folders)</code><br />
<code><a href="gtkFileChooserGetCreateFolders.html">gtkFileChooserGetCreateFolders</a>(object)</code><br />
<code><a href="gtkFileChooserSetCurrentName.html">gtkFileChooserSetCurrentName</a>(object, name)</code><br />
<code><a href="gtkFileChooserSelectAll.html">gtkFileChooserSelectAll</a>(object)</code><br />
<code><a href="gtkFileChooserUnselectAll.html">gtkFileChooserUnselectAll</a>(object)</code><br />
<code><a href="gtkFileChooserGetUri.html">gtkFileChooserGetUri</a>(object)</code><br />
<code><a href="gtkFileChooserSetUri.html">gtkFileChooserSetUri</a>(object, uri)</code><br />
<code><a href="gtkFileChooserSelectUri.html">gtkFileChooserSelectUri</a>(object, uri)</code><br />
<code><a href="gtkFileChooserUnselectUri.html">gtkFileChooserUnselectUri</a>(object, uri)</code><br />
<code><a href="gtkFileChooserGetUris.html">gtkFileChooserGetUris</a>(object)</code><br />
<code><a href="gtkFileChooserSetCurrentFolderUri.html">gtkFileChooserSetCurrentFolderUri</a>(object, uri)</code><br />
<code><a href="gtkFileChooserGetCurrentFolderUri.html">gtkFileChooserGetCurrentFolderUri</a>(object)</code><br />
<code><a href="gtkFileChooserSetPreviewWidget.html">gtkFileChooserSetPreviewWidget</a>(object, preview.widget)</code><br />
<code><a href="gtkFileChooserGetPreviewWidget.html">gtkFileChooserGetPreviewWidget</a>(object)</code><br />
<code><a href="gtkFileChooserSetPreviewWidgetActive.html">gtkFileChooserSetPreviewWidgetActive</a>(object, active)</code><br />
<code><a href="gtkFileChooserGetPreviewWidgetActive.html">gtkFileChooserGetPreviewWidgetActive</a>(object)</code><br />
<code><a href="gtkFileChooserSetUsePreviewLabel.html">gtkFileChooserSetUsePreviewLabel</a>(object, use.label)</code><br />
<code><a href="gtkFileChooserGetUsePreviewLabel.html">gtkFileChooserGetUsePreviewLabel</a>(object)</code><br />
<code><a href="gtkFileChooserGetPreviewUri.html">gtkFileChooserGetPreviewUri</a>(object)</code><br />
<code><a href="gtkFileChooserSetExtraWidget.html">gtkFileChooserSetExtraWidget</a>(object, extra.widget)</code><br />
<code><a href="gtkFileChooserGetExtraWidget.html">gtkFileChooserGetExtraWidget</a>(object)</code><br />
<code><a href="gtkFileChooserAddFilter.html">gtkFileChooserAddFilter</a>(object, filter)</code><br />
<code><a href="gtkFileChooserRemoveFilter.html">gtkFileChooserRemoveFilter</a>(object, filter)</code><br />
<code><a href="gtkFileChooserListFilters.html">gtkFileChooserListFilters</a>(object)</code><br />
<code><a href="gtkFileChooserSetFilter.html">gtkFileChooserSetFilter</a>(object, filter)</code><br />
<code><a href="gtkFileChooserGetFilter.html">gtkFileChooserGetFilter</a>(object)</code><br />
<code><a href="gtkFileChooserAddShortcutFolderUri.html">gtkFileChooserAddShortcutFolderUri</a>(object, uri, .errwarn = TRUE)</code><br />
<code><a href="gtkFileChooserRemoveShortcutFolderUri.html">gtkFileChooserRemoveShortcutFolderUri</a>(object, uri, .errwarn = TRUE)</code><br />
<code><a href="gtkFileChooserListShortcutFolderUris.html">gtkFileChooserListShortcutFolderUris</a>(object)</code><br />
<code><a href="gtkFileChooserGetCurrentFolderFile.html">gtkFileChooserGetCurrentFolderFile</a>(object)</code><br />
<code><a href="gtkFileChooserGetFile.html">gtkFileChooserGetFile</a>(object)</code><br />
<code><a href="gtkFileChooserGetFiles.html">gtkFileChooserGetFiles</a>(object)</code><br />
<code><a href="gtkFileChooserGetPreviewFile.html">gtkFileChooserGetPreviewFile</a>(object)</code><br />
<code><a href="gtkFileChooserSelectFile.html">gtkFileChooserSelectFile</a>(object, file, .errwarn = TRUE)</code><br />
<code><a href="gtkFileChooserSetCurrentFolderFile.html">gtkFileChooserSetCurrentFolderFile</a>(object, file, .errwarn = TRUE)</code><br />
<code><a href="gtkFileChooserSetFile.html">gtkFileChooserSetFile</a>(object, file, .errwarn = TRUE)</code><br />
<code><a href="gtkFileChooserUnselectFile.html">gtkFileChooserUnselectFile</a>(object, file)</code><br />
</p>


<h3>Hierarchy</h3>

<pre>GInterface
   +----GtkFileChooser</pre>

<h3>Implementations</h3>

<p>GtkFileChooser is implemented by
<code><a href="GtkFileChooserButton.html">GtkFileChooserButton</a></code>,  <code><a href="GtkFileChooserDialog.html">GtkFileChooserDialog</a></code> and  <code><a href="GtkFileChooserWidget.html">GtkFileChooserWidget</a></code>.</p>


<h3>Detailed Description</h3>

<p><code><a href="GtkFileChooser.html">GtkFileChooser</a></code> is an interface that can be implemented by file
selection widgets.  In GTK+, the main objects that implement this
interface are <code><a href="GtkFileChooserWidget.html">GtkFileChooserWidget</a></code>, <code><a href="GtkFileChooserDialog.html">GtkFileChooserDialog</a></code>, and
<code><a href="GtkFileChooserButton.html">GtkFileChooserButton</a></code>.  You do not need to write an object that
implements the <code><a href="GtkFileChooser.html">GtkFileChooser</a></code> interface unless you are trying to
adapt an existing file selector to expose a standard programming
interface.
<code><a href="GtkFileChooser.html">GtkFileChooser</a></code> allows for shortcuts to various places in the filesystem.
In the default implementation these are displayed in the left pane. It
may be a bit confusing at first that these shortcuts come from various
sources and in various flavours, so lets explain the terminology here:
</p>

<dl>
<dt>Bookmarks</dt><dd><p><em>undocumented
</em></p>
</dd>
<dt>Shortcuts</dt><dd><p><em>undocumented
</em></p>
</dd>
<dt>Volumes</dt><dd><p><em>undocumented
</em></p>
</dd>
</dl>

<p><em>File Names and Encodings</em>
When the user is finished selecting files in a
<code><a href="GtkFileChooser.html">GtkFileChooser</a></code>, your program can get the selected names
either as filenames or as URIs.  For URIs, the normal escaping
rules are applied if the URI contains non-ASCII characters.
However, filenames are <em>always</em> returned in
the character set specified by the
<span class="env">G_FILENAME_ENCODING</span> environment variable.
Please see the Glib documentation for more details about this
variable.
<strong>PLEASE NOTE:</strong>    This means that while you can pass the result of
<code><a href="gtkFileChooserGetFilename.html">gtkFileChooserGetFilename</a></code>   to
<code>open(2)</code>   or
<code>fopen(3)</code>  , you may not be able to
directly set it as the text of a   <code><a href="GtkLabel.html">GtkLabel</a></code>   widget unless you
convert it first to UTF-8, which all GTK+ widgets expect.
You should use   <code>gFilenameToUtf8()</code>   to convert filenames
into strings that can be passed to GTK+ widgets.
</p>
<p><em>Adding a Preview Widget</em>
You can add a custom preview widget to a file chooser and then
get notification about when the preview needs to be updated.
To install a preview widget, use
<code><a href="gtkFileChooserSetPreviewWidget.html">gtkFileChooserSetPreviewWidget</a></code>.  Then, connect to the
<code style="white-space: pre;">"update-preview"</code> signal to get notified when
you need to update the contents of the preview.
</p>
<p>Your callback should use
<code><a href="gtkFileChooserGetPreviewFilename.html">gtkFileChooserGetPreviewFilename</a></code> to see what needs
previewing.  Once you have generated the preview for the
corresponding file, you must call
<code><a href="gtkFileChooserSetPreviewWidgetActive.html">gtkFileChooserSetPreviewWidgetActive</a></code> with a boolean
flag that indicates whether your callback could successfully
generate a preview.
</p>
<p><em>Sample Usage</em>
</p>
<pre>
update_preview_cb &lt;- function(file_chooser, preview)
{
  filename &lt;- file_chooser$getPreviewFilename()

  pixbuf &lt;- gdkPixbuf(file=filename, w=128, h=128)[[1]]
  have_preview &lt;- !is.null(pixbuf)

  preview$setFromPixbuf(pixbuf)

  file_chooser$setPreviewWidgetActive(have_preview)
}

preview &lt;- gtkImage()
my_file_chooser$setPreviewWidget(preview)
gSignalConnect(my_file_chooser, "update-preview", update_preview_cb, preview)
</pre>
<p><em>Adding Extra Widgets</em>
You can add extra widgets to a file chooser to provide options
that are not present in the default design.  For example, you
can add a toggle button to give the user the option to open a
file in read-only mode.  You can use
<code><a href="gtkFileChooserSetExtraWidget.html">gtkFileChooserSetExtraWidget</a></code> to insert additional
widgets in a file chooser.
</p>
<p><em>Sample Usage</em>
</p>
<pre>
toggle &lt;- gtkCheckButton("Open file read-only")
my_file_chooser$setExtraWidget(toggle)
</pre><p><strong>PLEASE NOTE:</strong>    If you want to set more than one extra widget in the file
chooser, you can a container such as a   <code><a href="GtkVBox.html">GtkVBox</a></code>   or a   <code><a href="GtkTable.html">GtkTable</a></code>  
and include your widgets in it.  Then, set the container as
the whole extra widget.
<em>Key Bindings</em>
Internally, GTK+ implements a file chooser's graphical user
interface with the private
<code>GtkFileChooserDefaultClass</code>.  This
widget has several key
bindings and their associated signals.  This section
describes the available key binding signals.
</p>
<p><em>GtkFileChooser key binding example</em>
The default keys that activate the key-binding signals in
<code>GtkFileChooserDefaultClass</code> are as
follows:
</p>

<table summary="Rd table">
<tr>
 <td style="text-align: left;">
Signal name </td><td style="text-align: left;"> Default key combinations </td>
</tr>
<tr>
 <td style="text-align: left;">
location-popup </td><td style="text-align: left;"> <kbd>Control</kbd>-<kbd>L</kbd>   (empty path);
		    <kbd>/</kbd>   (path of "/")
                 <strong>PLEASE NOTE:</strong> 		      Both the individual   <kbd>/</kbd>   key and the
		      numeric keypad's "divide" key are supported.
		    ;
		    <kbd>~</kbd>   (path of "~")
		 </td>
</tr>
<tr>
 <td style="text-align: left;">
up-folder </td><td style="text-align: left;"> <kbd>Alt</kbd>-<kbd>Up</kbd>  <strong>PLEASE NOTE:</strong> 		      Both the individual Up key and the numeric
		      keypad's Up key are supported.
		    
		  ;
		    <kbd>Backspace</kbd>  
		 </td>
</tr>
<tr>
 <td style="text-align: left;">
down-folder </td><td style="text-align: left;"> <kbd>Alt</kbd>-<kbd>Down</kbd> </td>
</tr>
<tr>
 <td style="text-align: left;">
home-folder </td><td style="text-align: left;"> <kbd>Alt</kbd>-<kbd>Home</kbd> </td>
</tr>
<tr>
 <td style="text-align: left;">
desktop-folder </td><td style="text-align: left;"> <kbd>Alt</kbd>-<kbd>D</kbd> </td>
</tr>
<tr>
 <td style="text-align: left;">
quick-bookmark </td><td style="text-align: left;"> <kbd>Alt</kbd>-<kbd>1</kbd>   through   <kbd>Alt</kbd>-<kbd>0</kbd> </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>You can change these defaults to something else.  For
example, to add a <kbd>Shift</kbd> modifier to a few
of the default bindings, you can include the following
fragment in your &lsquo;<span class="file">.gtkrc-2.0</span>&rsquo; file:
</p>
<pre>binding "my-own-gtkfilechooser-bindings" {
	bind "&lt;Alt&gt;&lt;Shift&gt;Up" {
		"up-folder" ()
	}
	bind "&lt;Alt&gt;&lt;Shift&gt;Down" {
		"down-folder" ()
	}
	bind "&lt;Alt&gt;&lt;Shift&gt;Home" {
		"home-folder" ()
	}
}

class "GtkFileChooserDefault" binding "my-own-gtkfilechooser-bindings"
</pre>
<p><em>The &quot;GtkFileChooserDefault::location-popup&quot; signal</em></p>
<pre>   void user_function (GtkFileChooserDefault *chooser,
                       const char            *path,
  gpointer        user_data);
</pre>
<p>This is used to make the file chooser show a &quot;Location&quot;
dialog which the user can use to manually type the name of
the file he wishes to select.  The
<code>path</code> argument is a string that gets
put in the text entry for the file name.  By default this is bound to
<kbd>Control</kbd>-<kbd>L</kbd>
with a <code>path</code> string of &quot;&quot; (the empty
string).  It is also bound to <kbd>/</kbd> with a
<code>path</code> string of &quot;<code>/</code>&quot;
(a slash):  this lets you type <kbd>/</kbd> and
immediately type a path name.  On Unix systems, this is bound to
<kbd>~</kbd> (tilde) with a <code>path</code> string
of &quot;~&quot; itself for access to home directories.
</p>

<dl>
<dt><code>chooser</code> :</dt><dd><p>		the object which received the signal.
</p>
</dd>
<dt><code>path</code> :</dt><dd><p>		default contents for the text entry for the file name
</p>
</dd>
<dt><code>user.data</code> :</dt><dd><p>		user data set when the signal handler was connected.
</p>
</dd>
</dl>
<p><strong>PLEASE NOTE:</strong>    You can create your own bindings for the
GtkFileChooserDefault::location-popup signal with custom
<code>path</code>   strings, and have a crude form
of easily-to-type bookmarks.  For example, say you access
the path   &lsquo;<span class="file">/home/username/misc</span>&rsquo;   very
frequently.  You could then create an   <kbd>Alt</kbd>-<kbd>M</kbd>  
shortcut by including the following in your
&lsquo;<span class="file">.gtkrc-2.0</span>&rsquo;  :
</p>
<pre>   binding "misc-shortcut" {
      bind "&lt;Alt&gt;M" {
         "location-popup" ("/home/username/misc")
	 }
   }

   class "GtkFileChooserDefault" binding "misc-shortcut"
   
</pre>  
<p><em>The &quot;GtkFileChooserDefault::up-folder&quot; signal</em></p>
<pre>          void user_function (GtkFileChooserDefault *chooser,
                                gpointer   user_data);
</pre>
<p>This is used to make the file chooser go to the parent of
the current folder in the file hierarchy.  By default this
is bound to <kbd>Backspace</kbd> and
<kbd>Alt</kbd>-<kbd>Up</kbd>
(the Up key in the numeric keypad also works).
</p>

<dl>
<dt><code>chooser</code> :</dt><dd><p>		the object which received the signal.
</p>
</dd>
<dt><code>user.data</code> :</dt><dd><p>		user data set when the signal handler was connected.
</p>
</dd>
</dl>

<p><em>The &quot;GtkFileChooserDefault::down-folder&quot; signal</em></p>
<pre>          void user_function (GtkFileChooserDefault *chooser,
                                gpointer   user_data);
</pre>
<p>This is used to make the file chooser go to a child of the
current folder in the file hierarchy.  The subfolder that
will be used is displayed in the path bar widget of the file
chooser.  For example, if the path bar is showing
&quot;/foo/<em>bar/</em>baz&quot;, then this will cause
the file chooser to switch to the &quot;baz&quot; subfolder.  By
default this is bound to
<kbd>Alt</kbd>-<kbd>Down</kbd>
(the Down key in the numeric keypad also works).
</p>

<dl>
<dt><code>chooser</code> :</dt><dd><p>		the object which received the signal.
</p>
</dd>
<dt><code>user.data</code> :</dt><dd><p>		user data set when the signal handler was connected.
</p>
</dd>
</dl>

<p><em>The &quot;GtkFileChooserDefault::home-folder&quot; signal</em></p>
<pre>          void user_function (GtkFileChooserDefault *chooser,
                                gpointer   user_data);
</pre>
<p>This is used to make the file chooser show the user's home
folder in the file list.  By default this is bound to
<kbd>Alt</kbd>-<kbd>Home</kbd>
(the Home key in the numeric keypad also works).
</p>

<dl>
<dt><code>chooser</code> :</dt><dd><p>		the object which received the signal.
</p>
</dd>
<dt><code>user.data</code> :</dt><dd><p>		user data set when the signal handler was connected.
</p>
</dd>
</dl>

<p><em>The &quot;GtkFileChooserDefault::desktop-folder&quot; signal</em></p>
<pre>          void user_function (GtkFileChooserDefault *chooser,
                                gpointer   user_data);
</pre>
<p>This is used to make the file chooser show the user's Desktop
folder in the file list.  By default this is bound to
<kbd>Alt</kbd>-<kbd>D</kbd>.
</p>

<dl>
<dt><code>chooser</code> :</dt><dd><p>		the object which received the signal.
</p>
</dd>
<dt><code>user.data</code> :</dt><dd><p>		user data set when the signal handler was connected.
</p>
</dd>
</dl>

<p><em>The &quot;GtkFileChooserDefault::quick-bookmark&quot; signal</em></p>
<pre>          void user_function (GtkFileChooserDefault *chooser,
                              gint bookmark_index,
                                gpointer   user_data);
</pre>
<p>This is used to make the file chooser switch to the bookmark
specified in the <code>bookmark.index</code> parameter.
For example, if you have three bookmarks, you can pass 0, 1, 2 to
this signal to switch to each of them, respectively.  By default this is bound to
<kbd>Alt</kbd>-<kbd>1</kbd>,
<kbd>Alt</kbd>-<kbd>2</kbd>,
etc. until
<kbd>Alt</kbd>-<kbd>0</kbd>.  Note
that in the default binding,
that <kbd>Alt</kbd>-<kbd>1</kbd> is
actually defined to switch to the bookmark at index 0, and so on
successively;
<kbd>Alt</kbd>-<kbd>0</kbd> is
defined to switch to the bookmark at index 10.
</p>

<dl>
<dt><code>chooser</code> :</dt><dd><p>		the object which received the signal.
</p>
</dd>
<dt><code>bookmark.indes</code> :</dt><dd><p>		index of the bookmark to switch to; the indices start at 0.
</p>
</dd>
<dt><code>user.data</code> :</dt><dd><p>		user data set when the signal handler was connected.
</p>
</dd>
</dl>


<h3>Structures</h3>

<dl>
<dt><code style="white-space: pre;">GtkFileChooser</code></dt><dd>
<p><em>undocumented
</em>
</p>
</dd></dl>


<h3>Enums and Flags</h3>


<dl>
<dt><code style="white-space: pre;">GtkFileChooserAction</code></dt><dd>
<p>Describes whether a <code><a href="GtkFileChooser.html">GtkFileChooser</a></code> is being used to open existing files
or to save to a possibly new file.
</p>

<dl>
<dt><code style="white-space: pre;">open</code></dt><dd><p>Indicates open mode.  The file chooser
will only let the user pick an existing file.</p>
</dd>
<dt><code style="white-space: pre;">save</code></dt><dd><p>Indicates save mode.  The file chooser
will let the user pick an existing file, or type in a new
filename.</p>
</dd>
<dt><code style="white-space: pre;">select-folder</code></dt><dd><p>Indicates an Open mode for
selecting folders.  The file chooser will let the user pick an
existing folder.</p>
</dd>
<dt><code style="white-space: pre;">create-folder</code></dt><dd><p>Indicates a mode for creating a
new folder.  The file chooser will let the user name an existing or
new folder.</p>
</dd>
</dl>

</dd>
<dt><code style="white-space: pre;">GtkFileChooserConfirmation</code></dt><dd>
<p>Used as a return value of handlers for the
<code style="white-space: pre;">"confirm-overwrite"</code> signal of a <code><a href="GtkFileChooser.html">GtkFileChooser</a></code>. This
value determines whether the file chooser will present the stock
confirmation dialog, accept the user's choice of a filename, or
let the user choose another filename.
Since 2.8
</p>

<dl>
<dt><code style="white-space: pre;">confirm</code></dt><dd><p>The file chooser will present
its stock dialog to confirm about overwriting an existing file.</p>
</dd>
<dt><code style="white-space: pre;">accept-filename</code></dt><dd><p>The file chooser will
terminate and accept the user's choice of a file name.</p>
</dd>
<dt><code style="white-space: pre;">select-again</code></dt><dd><p>The file chooser will
continue running, so as to let the user select another file name.</p>
</dd>
</dl>

</dd>
<dt><code style="white-space: pre;">GtkFileChooserError</code></dt><dd>
<p>These identify the various errors that can occur while calling
<code><a href="GtkFileChooser.html">GtkFileChooser</a></code> functions.
</p>

<dl>
<dt><code style="white-space: pre;">nonexistent</code></dt><dd><p>Indicates that a file does not exist.</p>
</dd>
<dt><code style="white-space: pre;">bad-filename</code></dt><dd><p>Indicates a malformed filename.</p>
</dd>
</dl>

</dd>
</dl>


<h3>Signals</h3>


<dl>
<dt><code>confirm-overwrite(chooser, user.data)</code></dt><dd>
<p>This signal gets emitted whenever it is appropriate to present a
confirmation dialog when the user has selected a file name that
already exists.  The signal only gets emitted when the file
chooser is in <code>GTK_FILE_CHOOSER_ACTION_SAVE</code> mode.
</p>
<p>Most applications just need to turn on the
<code style="white-space: pre;">"do-overwrite-confirmation"</code> property (or call the
<code><a href="gtkFileChooserSetDoOverwriteConfirmation.html">gtkFileChooserSetDoOverwriteConfirmation</a></code> function), and
they will automatically get a stock confirmation dialog.
Applications which need to customize this behavior should do
that, and also connect to the <code style="white-space: pre;">"confirm-overwrite"</code>
signal.
</p>
<p>A signal handler for this signal must return a
<code><a href="GtkFileChooser.html">GtkFileChooserConfirmation</a></code> value, which indicates the action to
take.  If the handler determines that the user wants to select a
different filename, it should return
<code>GTK_FILE_CHOOSER_CONFIRMATION_SELECT_AGAIN</code>.  If it determines
that the user is satisfied with his choice of file name, it
should return <code>GTK_FILE_CHOOSER_CONFIRMATION_ACCEPT_FILENAME</code>.
On the other hand, if it determines that the stock confirmation
dialog should be used, it should return
<code>GTK_FILE_CHOOSER_CONFIRMATION_CONFIRM</code>. The following example
illustrates this.
</p>
<p><em>Custom confirmation</em></p>
<pre>static GtkFileChooserConfirmation
confirm_overwrite_callback (GtkFileChooser *chooser, gpointer data)
{
  char *uri;

  uri = gtk_file_chooser_get_uri (chooser);

  if (is_uri_read_only (uri))
    {
      if (user_wants_to_replace_read_only_file (uri))
        return GTK_FILE_CHOOSER_CONFIRMATION_ACCEPT_FILENAME;
      else
        return GTK_FILE_CHOOSER_CONFIRMATION_SELECT_AGAIN;
    } else
      return GTK_FILE_CHOOSER_CONFIRMATION_CONFIRM; // fall back to the default dialog
}

...

chooser = gtk_file_chooser_dialog_new (...);

gtk_file_chooser_set_do_overwrite_confirmation (GTK_FILE_CHOOSER (dialog), TRUE);
g_signal_connect (chooser, "confirm-overwrite",
                  G_CALLBACK (confirm_overwrite_callback), NULL);

if (gtk_dialog_run (chooser) == GTK_RESPONSE_ACCEPT)
        save_to_file (gtk_file_chooser_get_filename (GTK_FILE_CHOOSER (chooser));

gtk_widget_destroy (chooser);
</pre>
<p>Since 2.8
</p>

<dl>
<dt><code>chooser</code></dt><dd><p>the object which received the signal.</p>
</dd>
<dt><code>user.data</code></dt><dd><p>user data set when the signal handler was connected.</p>
</dd>
</dl>

<p><em>Returns:</em> [<code><a href="GtkFileChooser.html">GtkFileChooserConfirmation</a></code>] a <code><a href="GtkFileChooser.html">GtkFileChooserConfirmation</a></code> value that indicates which
action to take after emitting the signal.
</p>
</dd>
<dt><code>current-folder-changed(chooser, user.data)</code></dt><dd>
<p>This signal is emitted when the current folder in a <code><a href="GtkFileChooser.html">GtkFileChooser</a></code>
changes.  This can happen due to the user performing some action that
changes folders, such as selecting a bookmark or visiting a folder on the
file list.  It can also happen as a result of calling a function to
explicitly change the current folder in a file chooser.
</p>
<p>Normally you do not need to connect to this signal, unless you need to keep
track of which folder a file chooser is showing.
</p>
<p>See also:  <code><a href="gtkFileChooserSetCurrentFolder.html">gtkFileChooserSetCurrentFolder</a></code>,
<code><a href="gtkFileChooserGetCurrentFolder.html">gtkFileChooserGetCurrentFolder</a></code>,
<code><a href="gtkFileChooserSetCurrentFolderUri.html">gtkFileChooserSetCurrentFolderUri</a></code>,
<code><a href="gtkFileChooserGetCurrentFolderUri.html">gtkFileChooserGetCurrentFolderUri</a></code>.
</p>

<dl>
<dt><code>chooser</code></dt><dd><p>the object which received the signal.</p>
</dd>
<dt><code>user.data</code></dt><dd><p>user data set when the signal handler was connected.</p>
</dd>
</dl>

</dd>
<dt><code>file-activated(chooser, user.data)</code></dt><dd>
<p>This signal is emitted when the user &quot;activates&quot; a file in the file
chooser.  This can happen by double-clicking on a file in the file list, or
by pressing <kbd>Enter</kbd>.
</p>
<p>Normally you do not need to connect to this signal.  It is used internally
by <code><a href="GtkFileChooserDialog.html">GtkFileChooserDialog</a></code> to know when to activate the default button in the
dialog.
</p>
<p>See also: <code><a href="gtkFileChooserGetFilename.html">gtkFileChooserGetFilename</a></code>,
<code><a href="gtkFileChooserGetFilenames.html">gtkFileChooserGetFilenames</a></code>, <code><a href="gtkFileChooserGetUri.html">gtkFileChooserGetUri</a></code>,
<code><a href="gtkFileChooserGetUris.html">gtkFileChooserGetUris</a></code>.
</p>

<dl>
<dt><code>chooser</code></dt><dd><p>the object which received the signal.</p>
</dd>
<dt><code>user.data</code></dt><dd><p>user data set when the signal handler was connected.</p>
</dd>
</dl>

</dd>
<dt><code>selection-changed(chooser, user.data)</code></dt><dd>
<p>This signal is emitted when there is a change in the set of selected files
in a <code><a href="GtkFileChooser.html">GtkFileChooser</a></code>.  This can happen when the user modifies the selection
with the mouse or the keyboard, or when explicitly calling functions to
change the selection.
</p>
<p>Normally you do not need to connect to this signal, as it is easier to wait
for the file chooser to finish running, and then to get the list of
selected files using the functions mentioned below.
</p>
<p>See also: <code><a href="gtkFileChooserSelectFilename.html">gtkFileChooserSelectFilename</a></code>,
<code><a href="gtkFileChooserUnselectFilename.html">gtkFileChooserUnselectFilename</a></code>, <code><a href="gtkFileChooserGetFilename.html">gtkFileChooserGetFilename</a></code>,
<code><a href="gtkFileChooserGetFilenames.html">gtkFileChooserGetFilenames</a></code>, <code><a href="gtkFileChooserSelectUri.html">gtkFileChooserSelectUri</a></code>,
<code><a href="gtkFileChooserUnselectUri.html">gtkFileChooserUnselectUri</a></code>, <code><a href="gtkFileChooserGetUri.html">gtkFileChooserGetUri</a></code>,
<code><a href="gtkFileChooserGetUris.html">gtkFileChooserGetUris</a></code>.
</p>

<dl>
<dt><code>chooser</code></dt><dd><p>the object which received the signal.</p>
</dd>
<dt><code>user.data</code></dt><dd><p>user data set when the signal handler was connected.</p>
</dd>
</dl>

</dd>
<dt><code>update-preview(chooser, user.data)</code></dt><dd>
<p>This signal is emitted when the preview in a file chooser should be
regenerated.  For example, this can happen when the currently selected file
changes.  You should use this signal if you want your file chooser to have
a preview widget.
</p>
<p>Once you have installed a preview widget with
<code><a href="gtkFileChooserSetPreviewWidget.html">gtkFileChooserSetPreviewWidget</a></code>, you should update it when this
signal is emitted.  You can use the functions
<code><a href="gtkFileChooserGetPreviewFilename.html">gtkFileChooserGetPreviewFilename</a></code> or
<code><a href="gtkFileChooserGetPreviewUri.html">gtkFileChooserGetPreviewUri</a></code> to get the name of the file to preview.
Your widget may not be able to preview all kinds of files; your callback
must call <code><a href="gtkFileChooserSetPreviewWidgetActive.html">gtkFileChooserSetPreviewWidgetActive</a></code> to inform the file
chooser about whether the preview was generated successfully or not.
</p>
<p>Please see the example code in .
</p>
<p>See also: <code><a href="gtkFileChooserSetPreviewWidget.html">gtkFileChooserSetPreviewWidget</a></code>,
<code><a href="gtkFileChooserSetPreviewWidgetActive.html">gtkFileChooserSetPreviewWidgetActive</a></code>,
<code><a href="gtkFileChooserSetUsePreviewLabel.html">gtkFileChooserSetUsePreviewLabel</a></code>,
<code><a href="gtkFileChooserGetPreviewFilename.html">gtkFileChooserGetPreviewFilename</a></code>,
<code><a href="gtkFileChooserGetPreviewUri.html">gtkFileChooserGetPreviewUri</a></code>.
</p>

<dl>
<dt><code>chooser</code></dt><dd><p>the object which received the signal.</p>
</dd>
<dt><code>user.data</code></dt><dd><p>user data set when the signal handler was connected.</p>
</dd>
</dl>

</dd>
</dl>


<h3>Properties</h3>


<dl>
<dt><code style="white-space: pre;">action</code> [<code><a href="GtkFileChooser.html">GtkFileChooserAction</a></code> : Read / Write]</dt><dd>
<p>The type of operation that the file selector is performing.  Default value: GTK_FILE_CHOOSER_ACTION_OPEN
</p>
</dd>
<dt><code style="white-space: pre;">create-folders</code> [logical : Read / Write]</dt><dd>
<p>Whether a file chooser not in <code>GTK_FILE_CHOOSER_ACTION_OPEN</code> mode
will offer the user to create new folders.
Default value: TRUE  Since 2.18
</p>
</dd>
<dt><code style="white-space: pre;">do-overwrite-confirmation</code> [logical : Read / Write]</dt><dd>
<p>Whether a file chooser in <code>GTK_FILE_CHOOSER_ACTION_SAVE</code> mode
will present an overwrite confirmation dialog if the user
selects a file name that already exists.
Default value: FALSE  Since 2.8
</p>
</dd>
<dt><code style="white-space: pre;">extra-widget</code> [<code><a href="GtkWidget.html">GtkWidget</a></code> : *            : Read / Write]</dt><dd>
<p>Application supplied widget for extra options.
</p>
</dd>
<dt><code style="white-space: pre;">file-system-backend</code> [character : *                : Write / Construct Only]</dt><dd>
<p>Name of file system backend to use.  Default value: NULL
</p>
</dd>
<dt><code style="white-space: pre;">filter</code> [<code><a href="gtk-gtkfilefilter.html">GtkFileFilter</a></code> : *        : Read / Write]</dt><dd>
<p>The current filter for selecting which files are displayed.
</p>
</dd>
<dt><code style="white-space: pre;">local-only</code> [logical : Read / Write]</dt><dd>
<p>Whether the selected file(s) should be limited to local file: URLs.  Default value: TRUE
</p>
</dd>
<dt><code style="white-space: pre;">preview-widget</code> [<code><a href="GtkWidget.html">GtkWidget</a></code> : *            : Read / Write]</dt><dd>
<p>Application supplied widget for custom previews.
</p>
</dd>
<dt><code style="white-space: pre;">preview-widget-active</code> [logical : Read / Write]</dt><dd>
<p>Whether the application supplied widget for custom previews should be shown.  Default value: TRUE
</p>
</dd>
<dt><code style="white-space: pre;">select-multiple</code> [logical : Read / Write]</dt><dd>
<p>Whether to allow multiple files to be selected.  Default value: FALSE
</p>
</dd>
<dt><code style="white-space: pre;">show-hidden</code> [logical : Read / Write]</dt><dd>
<p>Whether the hidden files and folders should be displayed.  Default value: FALSE
</p>
</dd>
<dt><code style="white-space: pre;">use-preview-label</code> [logical : Read / Write]</dt><dd>
<p>Whether to display a stock label with the name of the previewed file.  Default value: TRUE
</p>
</dd>
</dl>


<h3>Author(s)</h3>

<p>Derived by RGtkGen from GTK+ documentation</p>


<h3>References</h3>

<p><a href="http://library.gnome.org/devel//gtk/GtkFileChooser.html">http://library.gnome.org/devel//gtk/GtkFileChooser.html</a></p>

<hr /><div style="text-align: center;">[Package <em>RGtk2</em> version 2.20.31 <a href="00Index.html">Index</a>]</div>
</body></html>
