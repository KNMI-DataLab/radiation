<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: cairoScaledFontTextToGlyphs</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for cairoScaledFontTextToGlyphs {RGtk2}"><tr><td>cairoScaledFontTextToGlyphs {RGtk2}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>cairoScaledFontTextToGlyphs</h2>

<h3>Description</h3>

<p>Converts UTF-8 text to a list of glyphs, optionally with cluster
mapping, that can be used to render later using <code>scaled.font</code>.</p>


<h3>Usage</h3>

<pre>cairoScaledFontTextToGlyphs(scaled.font, x, y, utf8, utf8.len = -1)</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code><code style="white-space: pre;">scaled.font</code></code></td>
<td>
<p>[<code><a href="cairo-scaled-font.html">CairoScaledFont</a></code>]  a <code><a href="cairo-scaled-font.html">CairoScaledFont</a></code></p>
</td></tr>
<tr valign="top"><td><code><code style="white-space: pre;">x</code></code></td>
<td>
<p>[numeric]  X position to place first glyph</p>
</td></tr>
<tr valign="top"><td><code><code style="white-space: pre;">y</code></code></td>
<td>
<p>[numeric]  Y position to place first glyph</p>
</td></tr>
<tr valign="top"><td><code><code style="white-space: pre;">utf8</code></code></td>
<td>
<p>[char]  a string of text encoded in UTF-8</p>
</td></tr>
<tr valign="top"><td><code><code style="white-space: pre;">utf8.len</code></code></td>
<td>
<p>[integer]  length of <code>utf8</code> in bytes, or -1 if it is NUL-terminated</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>glyphs</code> initially points to a non-<code>NULL</code> value, that list is used
as a glyph buffer, and <code>num.glyphs</code> should point to the number of glyph
entries available there.  If the provided glyph list is too short for
the conversion,  Upon return, <code>num.glyphs</code> always contains the
number of generated glyphs.  If the value <code>glyphs</code> points to has changed
after the call,  This may happen even if the provided
array was large enough.
</p>
<p>If <code>clusters</code> is not <code>NULL</code>, <code>num.clusters</code> and <code>cluster.flags</code> should not be <code>NULL</code>,
and cluster mapping will be computed.
The semantics of how cluster list allocation works is similar to the glyph
array.  That is,
if <code>clusters</code> initially points to a non-<code>NULL</code> value, that list is used
as a cluster buffer, and <code>num.clusters</code> should point to the number of cluster
entries available there.  If the provided cluster list is too short for
the conversion,  Upon return, <code>num.clusters</code> always contains the
number of generated clusters.  If the value <code>clusters</code> points at has changed
after the call,  This may happen even if the provided
array was large enough.
</p>
<p>In the simplest case, <code>glyphs</code> and <code>clusters</code> can point to <code>NULL</code> initially
and a suitable list will be allocated.  In code:
</p>
<pre>
glyphs &lt;- scaled_font$textToGlyphs(x, y, utf8, utf8_len)

if (glyphs$retval == CairoStatus["success"])
  cr$showTextGlyphs(utf8, utf8_len,
                    glyphs$glyphs, glyphs$num_glyphs,
                    glyphs$clusters, glyphs$num_clusters,
                    glyphs$cluster_flags)

</pre>
<p>If no cluster mapping is needed:
</p>
<pre>
glyphs &lt;- scaled_font$textToGlyphs(x, y, utf8, utf8_len)

if (glyphs$retval == CairoStatus["success"]) {
  cr$showGlyphs(glyphs$glyphs, glyphs$num_glyphs)
}
</pre>
<p>If stack-based glyph and cluster lists are to be used for small
arrays:
</p>
<pre>
## R user obviously does not allocate things on the stack.
## This is the same as the first example.

glyphs &lt;- scaled_font$textToGlyphs(x, y, utf8, utf8_len)

if (glyphs$retval == CairoStatus["success"])
  cr$showTextGlyphs(utf8, utf8_len,
                    glyphs$glyphs, glyphs$num_glyphs,
                    glyphs$clusters, glyphs$num_clusters,
                    glyphs$cluster_flags)
</pre>
<p>For details of how <code>clusters</code>, <code>num.clusters</code>, and <code>cluster.flags</code> map input
UTF-8 text to the output glyphs see <code><a href="cairoShowTextGlyphs.html">cairoShowTextGlyphs</a></code>.
</p>
<p>The output values can be readily passed to <code><a href="cairoShowTextGlyphs.html">cairoShowTextGlyphs</a></code>
<code><a href="cairoShowGlyphs.html">cairoShowGlyphs</a></code>, or related functions, assuming that the exact
same <code>scaled.font</code> is used for the operation.  
Since 1.8</p>


<h3>Value</h3>

<p>A list containing the following elements:
</p>
<table summary="R valueblock">
<tr valign="top"><td><code>retval</code></td>
<td>
<p>[<code><a href="cairo-error-status.html">CairoStatus</a></code>] <code>CAIRO_STATUS_SUCCESS</code> upon success, or an error status
if the input values are wrong or if conversion failed.  If the input
values are correct but the conversion failed, the error status is also
set on <code>scaled.font</code>.</p>
</td></tr>
<tr valign="top"><td><code><code style="white-space: pre;">glyphs</code></code></td>
<td>
<p>[<code><a href="cairo-text.html">CairoGlyph</a></code>]  pointer to list of glyphs to fill</p>
</td></tr>
<tr valign="top"><td><code><code style="white-space: pre;">num.glyphs</code></code></td>
<td>
<p>[integer]  pointer to number of glyphs</p>
</td></tr>
<tr valign="top"><td><code><code style="white-space: pre;">clusters</code></code></td>
<td>
<p>[<code><a href="cairo-text.html">CairoTextCluster</a></code>]  pointer to list of cluster mapping information to fill, or <code>NULL</code></p>
</td></tr>
<tr valign="top"><td><code><code style="white-space: pre;">num.clusters</code></code></td>
<td>
<p>[integer]  pointer to number of clusters, or <code>NULL</code></p>
</td></tr>
<tr valign="top"><td><code><code style="white-space: pre;">cluster.flags</code></code></td>
<td>
<p>[<code><a href="cairo-text.html">CairoTextClusterFlags</a></code>]  pointer to location to store cluster flags corresponding to the
output <code>clusters</code>, or <code>NULL</code></p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Derived by RGtkGen from GTK+ documentation</p>

<hr /><div style="text-align: center;">[Package <em>RGtk2</em> version 2.20.31 <a href="00Index.html">Index</a>]</div>
</body></html>
