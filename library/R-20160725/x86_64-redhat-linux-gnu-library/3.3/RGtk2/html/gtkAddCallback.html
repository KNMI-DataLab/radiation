<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Register and control a function as Gtk event handler</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for gtkAddCallback {RGtk2}"><tr><td>gtkAddCallback {RGtk2}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Register and control a function as Gtk event handler</h2>

<h3>Description</h3>

<p><strong>DEPRECATED!! (compatibility wrappers for RGtk 1!)</strong> 
</p>
<p>These functions allow one to register an R expression,
call or more typically a function as a
callback for a Gtk event, and also control
the activity status of that callback.
<code>gtkObjectAddCallback</code> registers the S expression, call or function
as a callback or event handler
for the specific event type
with the widget of interest.
When the event occurs for this widget, 
the S &quot;expression&quot; will be invoked.
</p>
<p>The block and unblock functions allow one to temporarily
suspend and re-enable a callback. When suspended, any calls
to the function that would normally occur are not invoked.
</p>
<p><code>gtkObjectRemoveCallback</code> allows one to unregister a callback using
the identifier obtained when call <code>gtkObjectAddCallback</code>.
</p>
<p><code>gtkObjectDisconnectCallback</code> un-registers a callback.
</p>


<h3>Usage</h3>

<pre>
gtkObjectAddCallback(w, signal, f, data = NULL, object = TRUE, after = TRUE)
gtkAddCallback(w, signal, f, data = NULL, object = TRUE, after = TRUE)
gtkObjectBlockCallback(obj, id)
gtkObjectUnblockCallback(obj, id)
gtkObjectDisconnectCallback(obj, id)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>w</code></td>
<td>
<p>the Gtk object whose events for this signal type
are to be monitored and reported to us via a call to the function <code>f</code>.</p>
</td></tr>
<tr valign="top"><td><code>signal</code></td>
<td>
<p>a string (character vector of length 1) giving
the name of the signal type. See the Gtk documentation for the 
particular widget.</p>
</td></tr>
<tr valign="top"><td><code>obj</code></td>
<td>
<p>the Gtk object for which we want to block/unblock or
disconnect the callback.</p>
</td></tr>
<tr valign="top"><td><code>f</code></td>
<td>
<p>the S expression, call or function which is to be invoked when an event
occurs.
If this is a call or expression, it is simply evaluated and no
additional
variables (i.e. the Gtk object for which the signal was emitted,
etc.)
are made available to it.
If the callback is a function,
it will be called with a single argument
which is an external pointer to the C-level event object
that describes the event.</p>
</td></tr>
<tr valign="top"><td><code>data</code></td>
<td>
<p>a value that is passed to the function <code>f</code> when the callback
is invoked. This can be use to parameterize a callback function so that it
behaves differently. This is passed as the first argument
to the function if <code>object</code> is <code>TRUE</code>
or as the final argument if <code>object</code> is <code>FALSE</code>.
If <code>f</code> is an expression or a call, <code>data</code> can be
an environment. In this case, <code>f</code> is evaluated within
this environment. This allows the code registering the callback
to control the scope of the evaluation.
</p>
</td></tr>
<tr valign="top"><td><code>object</code></td>
<td>
<p> a  logical value indicating whether
we want the value given in the <code>data</code> argument
to be the first argument to the callback function and the
Gtk object for which the event occurs to be the last argument,
or vice-versa. This is sometimes convenient and is the difference
between a call to <code>gtk_signal_connect</code> and
<code>gtk_signal_connect_object</code> at the Gtk interface level.
This argument is only meaningful if <code>data</code> is not missing
as no data argument is passed to the callback if it is not supplied.
</p>
</td></tr>
<tr valign="top"><td><code>after</code></td>
<td>
<p>a logical value indicating whether 
to invoke this user-defined handler after the signal, or to let the
signal's default behavior preside (i.e. depending on GTK\_RUN\_FIRST
and GTK\_RUN\_LAST).
This influences which signal gets to return a value to the event
source which can be useful. If the return value is <code>void</code>,
this rarely matters and one can accept the default.
</p>
</td></tr>
<tr valign="top"><td><code>id</code></td>
<td>
</td></tr>
</table>


<h3>Details</h3>

<p>The S function is invoked by a generic C-level event 
handler that makes the call to the S function. That
function is stored in user-level data for the widget.
The call provides one argument which is a reference to the
C event instance.
</p>


<h3>Value</h3>

<p><code>gtkObjectAddCallback</code> returns an object of class
<code>CallbackID</code> that provides a unique identifier
for the Gtk-level handler.
This is an integer value whose name attribute gives the name of the signal.
This object can be used to suspend (block), remove (disconnect)
and reactivate (unblock) a callback.
</p>
<p>The other functions return a logical value indicating if they were
succesful or else result in an error.
</p>


<h3>Note</h3>

<p>THIS STUFF IS VERY OLD AND DEPRECATED (compatibility wrappers for RGtk 1)
</p>
<p>This is an extra-ordinarily early release 
intended to encourage others to contribute code, etc.</p>


<h3>Author(s)</h3>

<p>Duncan Temple Lang</p>


<h3>References</h3>

<p><a href="http://www.gtk.org">http://www.gtk.org</a>
<a href="http://www.omegahat.org/RGtk">http://www.omegahat.org/RGtk</a>
</p>


<h3>See Also</h3>

<p><code><a href="GtkButton.html">gtkButton</a></code>
</p>


<h3>Examples</h3>

<pre>
  if (gtkInit()) {
    w &lt;- gtkWindow(show = FALSE)  
    b &lt;- gtkButton("Hit me")
    w$add(b)
    w$show()
    gtkAddCallback(b, "clicked", function(w) {
      help.start();
      TRUE
    })
  }
</pre>

<hr /><div style="text-align: center;">[Package <em>RGtk2</em> version 2.20.31 <a href="00Index.html">Index</a>]</div>
</body></html>
