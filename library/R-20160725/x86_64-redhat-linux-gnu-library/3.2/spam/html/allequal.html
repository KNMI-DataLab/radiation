<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Test if Two 'spam' Objects are (Nearly) Equal</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for allequal {spam}"><tr><td>allequal {spam}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Test if Two 'spam' Objects are (Nearly) Equal</h2>

<h3>Description</h3>

<p>Utility to compare two <code>spam</code> objects
testing 'near equality'.  Depending on the type of difference, comparison is
still made to some extent, and a report of the differences is
returned.</p>


<h3>Usage</h3>

<pre>

## S3 method for class 'spam'
all.equal(target, current, tolerance = .Machine$double.eps^0.5,
    scale = NULL, check.attributes = FALSE,...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>target</code></td>
<td>
<p>a <code>spam</code> object.</p>
</td></tr>
<tr valign="top"><td><code>current</code></td>
<td>
<p>another <code>spam</code> object to be compared with <code>target</code>.</p>
</td></tr>
<tr valign="top"><td><code>tolerance</code></td>
<td>
<p>numeric &gt;= 0.  Differences smaller than
<code>tolerance</code> are not considered.</p>
</td></tr>
<tr valign="top"><td><code>scale</code></td>
<td>
<p>numeric scalar &gt; 0 (or <code>NULL</code>). See &lsquo;Details&rsquo;.</p>
</td></tr>
<tr valign="top"><td><code>check.attributes</code></td>
<td>
<p>currently not yet implemented.</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>Further arguments for different methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Numerical comparisons for
<code>scale = NULL</code> (the default) are done by
first computing the mean absolute difference of the two numerical
vectors.  If this is smaller than <code>tolerance</code> or not finite,
absolute differences are used, otherwise relative differences
scaled by the mean absolute difference.
</p>
<p>If <code>scale</code> is positive, absolute comparisons are made after
scaling (dividing) by <code>scale</code>.
</p>
<p>Do not use <code>all.equal.spam</code> directly in <code>if</code>
expressions: either use <code>isTRUE( all.equal.spam(...))</code> or
<code>identical</code> if appropriate.
</p>
<p>Cholesky decomposition routines use this function to test for
symmetry.
</p>
<p>A method for <code>matrix-spam</code> objects is defined as well.
</p>
<p>There is the additional catch of a zero matrix being represented by
one zero element, see &lsquo;Examples&rsquo; below.
</p>


<h3>Value</h3>

<p>Either <code>TRUE</code> or a vector of 'mode' <code>"character"</code> describing the
differences between
<code>target</code> and <code>current</code>.
</p>


<h3>Author(s)</h3>

<p>Reinhard Furrer</p>


<h3>See Also</h3>

<p><code><a href="isSymmetric.html">isSymmetric.spam</a></code> and <code><a href="cleanup.html">cleanup</a></code>.</p>


<h3>Examples</h3>

<pre>
obj &lt;- diag.spam(2)
obj[1,2] &lt;- .Machine$double.eps

all.equal( diag.spam(2), obj)

all.equal( t(obj), obj)

all.equal( t(obj), obj*1.1)

# We can compare a spam to a matrix
all.equal(diag(2),diag.spam(2))

# the opposite does often not make sense,
# hence, it is not implemented.
all.equal(diag.spam(2),diag(2))


# A zero matrix contains one element:
str(spam(0))
# hence
all.equal.spam(spam(0,3,3), diag.spam(0,3) )
norm(spam(0,3,3) - diag.spam(0,3) ) 
</pre>

<hr /><div style="text-align: center;">[Package <em>spam</em> version 1.3-0 <a href="00Index.html">Index</a>]</div>
</body></html>
