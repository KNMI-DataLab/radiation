<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: A Gallery of Animations in Statistics and Utilities to Create...</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for animation-package {animation}"><tr><td>animation-package {animation}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>A Gallery of Animations in Statistics and Utilities to Create Animations</h2>

<h3>Description</h3>

<p>This package contains a variety functions for animations in statistics which
could probably aid in teaching statistics and data analysis; it also has
several utilities to export R animations to other formats.
</p>


<h3>Details</h3>

<p>This package mainly makes use of HTML &amp; JavaScript and R windows graphics
devices (such as <code><a href="../../grDevices/html/x11.html">x11</a></code>) to demonstrate animations in statistics;
other kinds of output such as Flash (SWF) or GIF animations or PDF animations
are also available if required software packages have been installed. See
below for details on each type of animation.
</p>


<h3>On-screen Animations</h3>

<p>It's natural and easy to create an animation
in R using the windows graphics device, e.g. in <code>x11()</code> or
<code>windows()</code>. A basic scheme is like the Example 1 (see below).
</p>
<p>On-screen animations do not depend on any third-party software, but the
rendering speed of the windows graphics devices is often slow, so the
animation might not be smooth (especially under Linux and Mac OS).
</p>


<h3>HTML Pages</h3>

<p>The generation of HTML animation pages does not rely on
any third-party software either, and we only need a web browser to watch
the animation. See <code><a href="saveHTML.html">saveHTML</a></code>.
</p>
<p>The HTML interface is just like a movie player &ndash; it comes with a series of
buttons to control the animation (play, stop, next, previous, ...).
</p>
<p>This HTML approach is flexible enough to be used even in Rweb, which means
we do not really have to install R to create animations! There is a demo in
<code>system.file('misc', 'Rweb', 'demo.html', package = 'animation')</code>. We
can use <code><a href="saveHTML.html">saveHTML</a></code> to create animations directly in Rweb; this
can be helpful when we do not have R or cannot install R.
</p>


<h3>GIF Animations</h3>

<p>If ImageMagick or GraphicsMagick has been installed,
we can use <code><a href="convert.html">im.convert</a></code> or <code><a href="convert.html">gm.convert</a></code> to create a
GIF animation (combining several R plots together), or use
<code><a href="saveGIF.html">saveGIF</a></code> to create a GIF animation from an R code chunk.
</p>


<h3>Flash Animations</h3>

<p>If SWF Tools has been installed, we can use
<code><a href="saveSWF.html">saveSWF</a></code> to create a Flash animation (again, combining R
plots).
</p>


<h3>PDF Animations</h3>

<p>If LaTeX is present in the system, we can use
<code><a href="saveLatex.html">saveLatex</a></code> to insert animations into a PDF document and watch
the animation using the Adobe reader.
</p>
<p>The animation is created by the LaTeX package <code>animate</code>.
</p>


<h3>Video</h3>

<p>The function <code><a href="saveVideo.html">saveVideo</a></code> can use FFmpeg to
convert images to various video formats (e.g. &lsquo;<span class="file">mp4</span>&rsquo;, &lsquo;<span class="file">avi</span>&rsquo; and
&lsquo;<span class="file">wmv</span>&rsquo;, etc).
</p>


<h3>Note</h3>

<p>Bug reports and feature requests can be sent to
<a href="https://github.com/yihui/animation/issues">https://github.com/yihui/animation/issues</a>.
</p>


<h3>Author(s)</h3>

<p>Yihui Xie
</p>


<h3>References</h3>

<p>The associated website for this package:
<a href="http://vis.supstat.com">http://vis.supstat.com</a>
</p>
<p>Yihui Xie and Xiaoyue Cheng. animation: A package for statistical
animations. <em>R News</em>, <b>8</b>(2):23&ndash;27, October 2008.  URL:
<a href="http://CRAN.R-project.org/doc/Rnews/Rnews_2008-2.pdf">http://CRAN.R-project.org/doc/Rnews/Rnews_2008-2.pdf</a>
</p>
<p>(NB: some functions mentioned in the above article have been slightly
modified; see the help pages for the up-to-date usage.)
</p>
<p>Yihui Xie (2013). animation: An R Package for Creating Animations and
Demonstrating Statistical Methods. <em>Journal of Statistical Software</em>,
<b>53</b>(1), 1-27. URL <a href="http://www.jstatsoft.org/v53/i01/">http://www.jstatsoft.org/v53/i01/</a>.
</p>


<h3>See Also</h3>

<p><code><a href="saveHTML.html">saveHTML</a></code>, <code><a href="saveGIF.html">saveGIF</a></code>,
<code><a href="saveSWF.html">saveSWF</a></code>, <code><a href="saveVideo.html">saveVideo</a></code>, <code><a href="saveLatex.html">saveLatex</a></code>
</p>


<h3>Examples</h3>

<pre>
### 1. How to setup a simple animation ###

## set some options first
oopt = ani.options(interval = 0.2, nmax = 10)
## use a loop to create images one by one
for (i in 1:ani.options("nmax")) {
    plot(rnorm(30))
    ani.pause()  ## pause for a while ('interval')
}
## restore the options
ani.options(oopt)

## see ?ani.record for an alternative way to set up an animation

### 2. Animations in HTML pages ###
saveHTML({
    ani.options(interval = 0.05, nmax = 30)
    par(mar = c(3, 3, 2, 0.5), mgp = c(2, 0.5, 0), tcl = -0.3, cex.axis = 0.8, 
        cex.lab = 0.8, cex.main = 1)
    brownian.motion(pch = 21, cex = 5, col = "red", bg = "yellow", 
        main = "Demonstration of Brownian Motion")
}, img.name = "bm_plot", title = "Demonstration of Brownian Motion", 
    description = c("Random walk on the 2D plane: for each point", 
        "(x, y), x = x + rnorm(1) and y = y + rnorm(1)."))

### 3. GIF animations ###
saveGIF({
    ani.options(nmax = 30)
    brownian.motion(pch = 21, cex = 5, col = "red", bg = "yellow")
}, interval = 0.05, movie.name = "bm_demo.gif", ani.width = 600, ani.height = 600)


### 4. Flash animations ###
saveSWF({
    par(mar = c(3, 2.5, 1, 0.2), pch = 20, mgp = c(1.5, 0.5, 0))
    buffon.needle(type = "S")
}, ani.dev = "pdf", ani.type = "pdf", swf.name = "buffon.swf", interval = 0.1, 
    nmax = 40, ani.height = 7, ani.width = 7)


### 5. PDF animations ###
saveLatex({
    par(mar = c(3, 3, 1, 0.5), mgp = c(2, 0.5, 0), tcl = -0.3, cex.axis = 0.8, 
        cex.lab = 0.8, cex.main = 1)
    brownian.motion(pch = 21, cex = 5, col = "red", bg = "yellow", 
        main = "Brownian Motion")
}, img.name = "BM_plot", latex.filename = ifelse(interactive(), "brownian_motion.tex", 
    ""), interval = 0.1, nmax = 20)

</pre>

<hr /><div style="text-align: center;">[Package <em>animation</em> version 2.4 <a href="00Index.html">Index</a>]</div>
</body></html>
