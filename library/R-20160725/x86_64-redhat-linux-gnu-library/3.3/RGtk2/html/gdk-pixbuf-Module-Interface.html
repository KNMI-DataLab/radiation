<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Module Interface</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for gdk-pixbuf-Module-Interface {RGtk2}"><tr><td>gdk-pixbuf-Module-Interface {RGtk2}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Module Interface</h2>

<h3>Description</h3>

<p>Extending </p>


<h3>Methods and Functions</h3>

<p><code><a href="gdkPixbufSetOption.html">gdkPixbufSetOption</a>(object, key, value)</code><br />
<code><a href="gdkPixbufGetFormats.html">gdkPixbufGetFormats</a>()</code><br />
<code><a href="gdkPixbufFormatGetName.html">gdkPixbufFormatGetName</a>(object)</code><br />
<code><a href="gdkPixbufFormatGetDescription.html">gdkPixbufFormatGetDescription</a>(object)</code><br />
<code><a href="gdkPixbufFormatGetMimeTypes.html">gdkPixbufFormatGetMimeTypes</a>(object)</code><br />
<code><a href="gdkPixbufFormatGetExtensions.html">gdkPixbufFormatGetExtensions</a>(object)</code><br />
<code><a href="gdkPixbufFormatIsWritable.html">gdkPixbufFormatIsWritable</a>(object)</code><br />
<code><a href="gdkPixbufFormatIsScalable.html">gdkPixbufFormatIsScalable</a>(object)</code><br />
<code><a href="gdkPixbufFormatIsDisabled.html">gdkPixbufFormatIsDisabled</a>(object)</code><br />
<code><a href="gdkPixbufFormatSetDisabled.html">gdkPixbufFormatSetDisabled</a>(object, disabled)</code><br />
<code><a href="gdkPixbufFormatGetLicense.html">gdkPixbufFormatGetLicense</a>(object)</code><br />
</p>


<h3>Detailed Description</h3>

<p>If <code>gdk-pixbuf</code> has been compiled with GModule support, it can be extended by
modules which can load (and perhaps also save) new image and animation
formats. Each loadable module must export a
<code style="white-space: pre;">GdkPixbufModuleFillInfoFunc</code> function named <code>fillInfo</code> and
a <code style="white-space: pre;">GdkPixbufModuleFillVtableFunc</code> function named
<code>fillVtable</code>.
</p>
<p>In order to make format-checking work before actually loading the modules
(which may require dlopening image libraries), modules export their
signatures (and other information) via the <code>fillInfo</code>
function. An external utility, <code>gdk-pixbuf-query-loaders</code>,
uses this to create a text file containing a list of all available loaders and
their signatures. This file is then read at runtime by <code>gdk-pixbuf</code> to obtain
the list of available loaders and their signatures.
</p>
<p>Modules may only implement a subset of the functionality available via
<code style="white-space: pre;">GdkPixbufModule</code>. If a particular functionality is not implemented, the
<code>fillVtable</code> function will simply not set the corresponding
function pointers of the <code style="white-space: pre;">GdkPixbufModule</code> structure. If a module supports
incremental loading (i.e. provides <code style="white-space: pre;">begin_load</code>, <code style="white-space: pre;">stop_load</code> and
<code style="white-space: pre;">load_increment</code>), it doesn't have to implement <code style="white-space: pre;">load</code>, since <code>gdk-pixbuf</code> can
supply a generic <code style="white-space: pre;">load</code> implementation wrapping the incremental loading.
</p>
<p>Installing a module is a two-step process:
</p>

<ul>
<li><p> copy the module file(s) to the loader directory (normally
&lsquo;<span class="file">libdir</span>&rsquo;,
unless overridden by the environment variable
<span class="env">GDK_PIXBUF_MODULEDIR</span>)
</p>
</li>
<li><p> call <code>gdk-pixbuf-query-loaders</code> to update the
module file (normally
&lsquo;<span class="file">sysconfdir</span>&rsquo;,
unless overridden by the environment variable
<span class="env">GDK_PIXBUF_MODULE_FILE</span>)
</p>
</li></ul>

<p>The <code>gdk-pixbuf</code> interfaces needed for implementing modules are contained in
&lsquo;<span class="file">gdk-pixbuf-io.h</span>&rsquo; (and
&lsquo;<span class="file">gdk-pixbuf-animation.h</span>&rsquo; if the module supports animations).
They are not covered by the same stability guarantees as the regular
<code>gdk-pixbuf</code> API. To underline this fact, they are protected by
<code>#ifdef GDK_PIXBUF_ENABLE_BACKEND</code>.</p>


<h3>Structures</h3>

<dl>
<dt><code style="white-space: pre;">GdkPixbufFormat</code></dt><dd>
<p>A <code><a href="gdk-pixbuf-Module-Interface.html">GdkPixbufFormat</a></code> contains information about the image format accepted by a
module. Only modules should access the fields directly, applications should
use the <code>gdkPixbufFormat*</code> functions.
Since 2.2
</p>

<dl>
<dt><code>name</code></dt><dd><p>the name of the image format.</p>
</dd>
<dt><code>signature</code></dt><dd><p>the signature of the module.</p>
</dd>
<dt><code>domain</code></dt><dd><p>the message domain for the <code>description</code>.</p>
</dd>
<dt><code>description</code></dt><dd><p>a description of the image format.</p>
</dd>
<dt><code>mime_types</code></dt><dd><p>a list of MIME types for the image format.</p>
</dd>
<dt><code>extensions</code></dt><dd><p>a list of typical filename extensions for the
image format.</p>
</dd>
<dt><code>flags</code></dt><dd><p>a combination of <code style="white-space: pre;">GdkPixbufFormatFlags</code>.</p>
</dd>
<dt><code>disabled</code></dt><dd><p>a boolean determining whether the loader is disabled.</p>
</dd>
<dt><code>license</code></dt><dd><p>a string containing license information, typically set to
shorthands like &quot;GPL&quot;, &quot;LGPL&quot;, etc.</p>
</dd>
</dl>

</dd></dl>


<h3>User Functions</h3>


<dl>
<dt><code>GdkPixbufModuleFillVtableFunc(module)</code></dt><dd>
<p>Defines the type of the function used to set the vtable of a
<code style="white-space: pre;">GdkPixbufModule</code> when it is loaded.
Since 2.2
</p>
<dl>
<dt><code>module</code></dt><dd><p>a <code style="white-space: pre;">GdkPixbufModule</code>.</p>
</dd></dl>

</dd>
<dt><code>GdkPixbufModuleFillInfoFunc(info)</code></dt><dd>
<p>Defines the type of the function used to fill a
<code><a href="gdk-pixbuf-Module-Interface.html">GdkPixbufFormat</a></code> structure with information about a module.
Since 2.2
</p>
<dl>
<dt><code>info</code></dt><dd><p>a <code><a href="gdk-pixbuf-Module-Interface.html">GdkPixbufFormat</a></code>.</p>
</dd></dl>

</dd>
<dt><code>GdkPixbufModuleSizeFunc(width, height, user.data)</code></dt><dd>
<p>Defines the type of the function that gets called once the size
of the loaded image is known.
</p>
<p>The function is expected to set <code>width</code> and <code>height</code> to the desired
size to which the image should be scaled. If a module has no efficient
way to achieve the desired scaling during the loading of the image, it may
either ignore the size request, or only approximate it &ndash; <code>gdk-pixbuf</code> will
then perform the required scaling on the completely loaded image.
</p>
<p>If the function sets <code>width</code> or <code>height</code> to zero, the module should interpret
this as a hint that it will be closed soon and shouldn't allocate further
resources. This convention is used to implement <code><a href="gdkPixbufGetFileInfo.html">gdkPixbufGetFileInfo</a></code>
efficiently.
Since 2.2
</p>

<dl>
<dt><code>width</code></dt><dd><p>pointer to a location containing the current image width</p>
</dd>
<dt><code>height</code></dt><dd><p>pointer to a location containing the current image height</p>
</dd>
<dt><code>user.data</code></dt><dd><p>the loader.</p>
</dd>
</dl>

</dd>
<dt><code>GdkPixbufModulePreparedFunc(pixbuf, anim, user.data)</code></dt><dd>
<p>Defines the type of the function that gets called once the initial
setup of <code>pixbuf</code> is done.
<code><a href="GdkPixbufLoader.html">GdkPixbufLoader</a></code> uses a function of this type to emit the
&quot;area_prepared&quot;
signal.
Since 2.2
</p>

<dl>
<dt><code>pixbuf</code></dt><dd><p>the <code><a href="gdk-pixbuf-gdk-pixbuf.html">GdkPixbuf</a></code> that is currently being loaded.</p>
</dd>
<dt><code>anim</code></dt><dd><p>if an animation is being loaded, the <code><a href="gdk-pixbuf-animation.html">GdkPixbufAnimation</a></code>, else <code>NULL</code>.</p>
</dd>
<dt><code>user.data</code></dt><dd><p>the loader.</p>
</dd>
</dl>

</dd>
<dt><code>GdkPixbufModuleUpdatedFunc(pixbuf, x, y, width, height, user.data)</code></dt><dd>
<p>Defines the type of the function that gets called every time a region
of <code>pixbuf</code> is updated.
<code><a href="GdkPixbufLoader.html">GdkPixbufLoader</a></code> uses a function of this type to emit the
&quot;area_updated&quot;
signal.
Since 2.2
</p>

<dl>
<dt><code>pixbuf</code></dt><dd><p>the <code><a href="gdk-pixbuf-gdk-pixbuf.html">GdkPixbuf</a></code> that is currently being loaded.</p>
</dd>
<dt><code>x</code></dt><dd><p>the X origin of the updated area.</p>
</dd>
<dt><code>y</code></dt><dd><p>the Y origin of the updated area.</p>
</dd>
<dt><code>width</code></dt><dd><p>the width of the updated area.</p>
</dd>
<dt><code>height</code></dt><dd><p>the height of the updated area.</p>
</dd>
<dt><code>user.data</code></dt><dd><p>the loader.</p>
</dd>
</dl>

</dd>
</dl>


<h3>Author(s)</h3>

<p>Derived by RGtkGen from GTK+ documentation</p>


<h3>References</h3>

<p><a href="http://library.gnome.org/devel//gdk-pixbuf/gdk-pixbuf-Module-Interface.html">http://library.gnome.org/devel//gdk-pixbuf/gdk-pixbuf-Module-Interface.html</a></p>

<hr /><div style="text-align: center;">[Package <em>RGtk2</em> version 2.20.31 <a href="00Index.html">Index</a>]</div>
</body></html>
