<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: match two (time) sequences</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for timeMatch {spacetime}"><tr><td>timeMatch {spacetime}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2> match two (time) sequences </h2>

<h3>Description</h3>

<p> match two (time) sequences, where each can
be intervals or instances. </p>


<h3>Usage</h3>

<pre> 
timeMatch(x, y, returnList = FALSE, ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>x</code></td>
<td>
<p> ordered sequence, e.g. of time stamps </p>
</td></tr>
<tr valign="top"><td><code>y</code></td>
<td>
<p> ordered sequence, e.g. of time stamps </p>
</td></tr>
<tr valign="top"><td><code>returnList </code></td>
<td>
<p> boolean; should a list be returned with all matches (TRUE),
or a vector with single matches (FALSE)? </p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
 <p><code>end.x</code> and <code>end.y</code> can be specified for
<code>xts</code> and <code>POSIXct</code> methods</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When <code>x</code> and <code>y</code> are of class <code>xts</code> or <code>POSIXct</code>,
<code>end.x</code> and <code>end.y</code> need to specify endpoint of intervals.
</p>
<p>In case <code>x</code> and <code>y</code> are both not intervals, matching is
done on equality of values, using <a href="../../base/html/match.html">match</a>.
</p>
<p>If <code>x</code> represents intervals, then the first interval is from
<code>x[1]</code> to <code>x[2]</code>, with <code>x[1]</code> included but <code>x[2]</code>
not (left-closed, right-open). In case of zero-width intervals
(e.g. <code>x[1]==x[2]</code>), nothing will match and a warning is raised.
Package <code>intervals</code> is used to check overlap of intervals,
using, <a href="../../intervals/html/interval_overlap.html">interval_overlap</a>.
</p>


<h3>Value</h3>

<p>if <code>returnList = FALSE</code>: integer vector of length
<code>length(x)</code> with indexes of <code>y</code> matching to each of
the elements of <code>x</code>, or NA if there is no match. See section
details for definition of match.
</p>
<p>if <code>returnList = TRUE</code>: list of length <code>length(x)</code>,
with each list element an integer vector with all the indexes
of <code>y</code> matching to that element of <code>x</code>.
</p>


<h3>Author(s)</h3>

<p>Edzer Pebesma</p>


<h3>References</h3>

<p> http://www.jstatsoft.org/v51/i07/ </p>


<h3>See Also</h3>

<p><a href="over.html">over</a>, <a href="interval.html">timeIsInterval</a>, <a href="../../intervals/html/interval_overlap.html">interval_overlap</a></p>


<h3>Examples</h3>

<pre>
t0 = as.POSIXct("1999-10-10")
x = t0 +c(0.5+c(2,2.1,4),5)*3600
y = t0 + 1:5 * 3600
x
y
#timeIsInterval(x) = FALSE
#timeIsInterval(y) = FALSE
timeMatch(x,y, returnList = FALSE)
timeMatch(x,y, returnList = TRUE)
#timeIsInterval(y) = TRUE
timeMatch(x,y, returnList = FALSE, end.y = delta(y))
timeMatch(x,y, returnList = TRUE, end.y = delta(y))
#timeIsInterval(x) = TRUE
timeMatch(x,y, returnList = FALSE, end.x = delta(x), end.y = delta(y))
timeMatch(x,y, returnList = TRUE, end.x = delta(x), end.y = delta(y))
#timeIsInterval(y) = FALSE
timeMatch(x,y, returnList = FALSE, end.x = delta(x))
timeMatch(x,y, returnList = TRUE, end.x = delta(x))

x = as.POSIXct("2000-01-01") + (0:9) * 3600
y = x + 1
y[1] = y[2]
x
y
TI = function(x, ti) { 
	timeIsInterval(x) = ti
	x 
}
#timeMatch(TI(y,FALSE),TI(y,FALSE))
#timeMatch(TI(y,TRUE), TI(y,TRUE))
#
#timeMatch(TI(x,FALSE),TI(y,FALSE))
#timeMatch(TI(x,FALSE),TI(y,TRUE))
#timeMatch(TI(x,TRUE), TI(y,FALSE))
#timeMatch(TI(x,TRUE), TI(y,TRUE))
#
#timeMatch(TI(x,FALSE),TI(y,FALSE), returnList = TRUE)
#timeMatch(TI(x,FALSE),TI(y,TRUE), returnList = TRUE)
#timeMatch(TI(x,TRUE), TI(y,FALSE), returnList = TRUE)
#timeMatch(TI(x,TRUE), TI(y,TRUE), returnList = TRUE)

</pre>

<hr /><div style="text-align: center;">[Package <em>spacetime</em> version 1.1-5 <a href="00Index.html">Index</a>]</div>
</body></html>
